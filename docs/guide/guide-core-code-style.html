<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="language" content="en" />
        <link href="./assets/90d046f2/css/bootstrap.css" rel="stylesheet">
<link href="./assets/c6368d94/solarized_light.css" rel="stylesheet">
<link href="./assets/9f5cdd92/style.css" rel="stylesheet">
<script src="./assets/a6e53573/jquery.js"></script>
<script src="./assets/90d046f2/js/bootstrap.js"></script>
<script src="./assets/218ce2e5/jssearch.js"></script>    <title>The Definitive Guide to Yii 2.0</title>
</head>
<body>

<div class="wrap">
    <nav id="w12616" class="navbar-inverse navbar-fixed-top navbar" role="navigation"><div class="navbar-header"><button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#w12616-collapse"><span class="sr-only">Toggle navigation</span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span></button><a class="navbar-brand" href="./guide-index.html">The Definitive Guide to Yii 2.0</a></div><div id="w12616-collapse" class="collapse navbar-collapse"><ul id="w12617" class="navbar-nav nav"><li><a href="./guide-README.html">Guide</a></li></ul><div class="navbar-form navbar-left" role="search">
  <div class="form-group">
    <input id="searchbox" type="text" class="form-control" placeholder="Search">
  </div>
</div>
</div></nav>
    <div id="search-resultbox" style="display: none;" class="modal-content">
        <ul id="search-results">
        </ul>
    </div>

    
<div class="row">
    <div class="col-md-2">
                <div id="navigation" class="list-group"><a class="list-group-item" href="#navigation-12600" data-toggle="collapse" data-parent="#navigation">Giới thiệu <b class="caret"></b></a><div id="navigation-12600" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-intro-yii.html">Về Yii</a>
<a class="list-group-item" href="./guide-intro-upgrade-from-v1.html">Nâng cấp lên từ phiên bản 1.1</a></div>
<a class="list-group-item" href="#navigation-12601" data-toggle="collapse" data-parent="#navigation">Bắt đầu <b class="caret"></b></a><div id="navigation-12601" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-start-installation.html">Cài đặt Yii</a>
<a class="list-group-item" href="./guide-start-workflow.html">Thực hiện chạy ứng dụng</a>
<a class="list-group-item" href="./guide-start-hello.html">Viết lời chào đầu tiên</a>
<a class="list-group-item" href="./guide-start-forms.html">Làm việc với Forms</a>
<a class="list-group-item" href="./guide-start-databases.html">Làm việc với Databases</a>
<a class="list-group-item" href="./guide-start-gii.html">Sử dụng Gii để sinh code</a>
<a class="list-group-item" href="./guide-start-looking-ahead.html">Mức cao hơn</a></div>
<a class="list-group-item" href="#navigation-12602" data-toggle="collapse" data-parent="#navigation">Kiến trúc ứng dụng (Application Structure) <b class="caret"></b></a><div id="navigation-12602" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-structure-overview.html">Tổng quan về kiến trúc ứng dụng</a>
<a class="list-group-item" href="./guide-structure-entry-scripts.html">Mục Scripts</a>
<a class="list-group-item" href="./guide-structure-applications.html">Ứng dụng (Applications)</a>
<a class="list-group-item" href="./guide-structure-application-components.html">Thành phần ứng dụng</a>
<a class="list-group-item" href="./guide-structure-controllers.html">Bộ điều khiển (Controllers)</a>
<a class="list-group-item" href="./guide-structure-models.html">Models</a>
<a class="list-group-item" href="./guide-structure-views.html">Views</a>
<a class="list-group-item" href="./guide-structure-modules.html">Modules</a>
<a class="list-group-item" href="./guide-structure-filters.html">Bộ lọc (Filters)</a>
<a class="list-group-item" href="./guide-structure-widgets.html">Widgets</a>
<a class="list-group-item" href="./guide-structure-assets.html">Assets</a>
<a class="list-group-item" href="./guide-structure-extensions.html">Phần mở rộng (Extensions)</a></div>
<a class="list-group-item" href="#navigation-12603" data-toggle="collapse" data-parent="#navigation">Yêu cầu xử lý (Handling Requests) <b class="caret"></b></a><div id="navigation-12603" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-runtime-overview.html">Tổng quan</a>
<a class="list-group-item" href="./guide-runtime-bootstrapping.html">Bootstrapping</a>
<a class="list-group-item" href="./guide-runtime-routing.html">Routing và URL Creation</a>
<a class="list-group-item" href="./guide-runtime-requests.html">Yêu cầu (Requests)</a>
<a class="list-group-item" href="./guide-runtime-responses.html">Responses</a>
<a class="list-group-item" href="./guide-runtime-sessions-cookies.html">Sessions và Cookies</a>
<a class="list-group-item" href="./guide-runtime-handling-errors.html">Xử lý lỗi (Handling Error)</a>
<a class="list-group-item" href="./guide-runtime-logging.html">Logging</a></div>
<a class="list-group-item" href="#navigation-12604" data-toggle="collapse" data-parent="#navigation">Các khái niệm chính <b class="caret"></b></a><div id="navigation-12604" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-concept-components.html">Thành phần (Components)</a>
<a class="list-group-item" href="./guide-concept-properties.html">Thuộc tính (Properties)</a>
<a class="list-group-item" href="./guide-concept-events.html">Sự kiện (Events)</a>
<a class="list-group-item" href="./guide-concept-behaviors.html">Hành vi (Behaviors)</a>
<a class="list-group-item" href="./guide-concept-configurations.html">Cấu hình (Configurations)</a>
<a class="list-group-item" href="./guide-concept-aliases.html">Bí danh (Aliases)</a>
<a class="list-group-item" href="./guide-concept-autoloading.html">Lớp tự động nạp (Autoloading)</a>
<a class="list-group-item" href="./guide-concept-service-locator.html">Service Locator</a>
<a class="list-group-item" href="./guide-concept-di-container.html">Dependency Injection Container</a></div>
<a class="list-group-item" href="#navigation-12605" data-toggle="collapse" data-parent="#navigation">Làm việc với Databases <b class="caret"></b></a><div id="navigation-12605" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-db-dao.html">Data Access Objects</a>
<a class="list-group-item" href="./guide-db-query-builder.html">Query Builder</a>
<a class="list-group-item" href="./guide-db-active-record.html">Active Record</a>
<a class="list-group-item" href="./guide-db-migrations.html">Migrations</a>
<a class="list-group-item" href="./guide-db-sphinx.html">Sphinx</a>
<a class="list-group-item" href="./guide-db-redis.html">Redis</a>
<a class="list-group-item" href="./guide-db-mongodb.html">MongoDB</a>
<a class="list-group-item" href="./guide-db-elasticsearch.html">ElasticSearch</a></div>
<a class="list-group-item" href="#navigation-12606" data-toggle="collapse" data-parent="#navigation">Nhận dữ liệu từ user <b class="caret"></b></a><div id="navigation-12606" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-input-forms.html">Tạo mới Forms</a>
<a class="list-group-item" href="./guide-input-validation.html">Kiểm tra dữ liệu đầu vào (Validating Input)</a>
<a class="list-group-item" href="./guide-input-file-upload.html">File Upload</a>
<a class="list-group-item" href="./guide-input-tabular-input.html">Thu thập dữ liệu từ danh sách đầu vào (Đang phát triển)</a>
<a class="list-group-item" href="./guide-input-multiple-models.html">Lấy dữ liệu cho nhiều Models (Chưa giải quyết)</a></div>
<a class="list-group-item" href="#navigation-12607" data-toggle="collapse" data-parent="#navigation">Hiển thị dữ liệu <b class="caret"></b></a><div id="navigation-12607" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-output-formatter.html">Định dạng dữ liệu (Data Formatting)</a>
<a class="list-group-item" href="./guide-output-pagination.html">Phân trang (Pagination)</a>
<a class="list-group-item" href="./guide-output-sorting.html">Sắp xếp (Sorting)</a>
<a class="list-group-item" href="./guide-output-data-providers.html">Cung cấp dữ liệu ra (Data Providers)</a>
<a class="list-group-item" href="./guide-output-data-widgets.html">Dữ liệu Widgets</a>
<a class="list-group-item" href="./guide-output-client-scripts.html">làm việc với Client Scripts</a>
<a class="list-group-item" href="./guide-output-theming.html">Giao diện (Theming)</a></div>
<a class="list-group-item" href="#navigation-12608" data-toggle="collapse" data-parent="#navigation">Bảo mật (Security) <b class="caret"></b></a><div id="navigation-12608" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-security-authentication.html">Xác thực (Authentication)</a>
<a class="list-group-item" href="./guide-security-authorization.html">Quyền (Authorization)</a>
<a class="list-group-item" href="./guide-security-passwords.html">Các thao tác xử lý với Passwords (Đang phát triển)</a>
<a class="list-group-item" href="./guide-security-auth-clients.html">Auth Clients</a>
<a class="list-group-item" href="./guide-security-best-practices.html">Best Practices</a></div>
<a class="list-group-item" href="#navigation-12609" data-toggle="collapse" data-parent="#navigation">Bộ nhớ Cache <b class="caret"></b></a><div id="navigation-12609" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-caching-overview.html">Tổng quan</a>
<a class="list-group-item" href="./guide-caching-data.html">Cache dữ liệu</a>
<a class="list-group-item" href="./guide-caching-fragment.html">Fragment Caching</a>
<a class="list-group-item" href="./guide-caching-page.html">Page Caching</a>
<a class="list-group-item" href="./guide-caching-http.html">HTTP Caching</a></div>
<a class="list-group-item" href="#navigation-12610" data-toggle="collapse" data-parent="#navigation">RESTful Web Services <b class="caret"></b></a><div id="navigation-12610" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-rest-quick-start.html">Bắt đầu</a>
<a class="list-group-item" href="./guide-rest-resources.html">Tài nguyên (Resources)</a>
<a class="list-group-item" href="./guide-rest-controllers.html">Bộ điều khiển (Controllers)</a>
<a class="list-group-item" href="./guide-rest-routing.html">Routing</a>
<a class="list-group-item" href="./guide-rest-response-formatting.html">Định dạng thông điệp gửi đi (Response Formatting)</a>
<a class="list-group-item" href="./guide-rest-authentication.html">Xác thực (Authentication)</a>
<a class="list-group-item" href="./guide-rest-rate-limiting.html">Rate Limiting</a>
<a class="list-group-item" href="./guide-rest-versioning.html">Phiên bản (Version)</a>
<a class="list-group-item" href="./guide-rest-error-handling.html">Error Handling</a></div>
<a class="list-group-item" href="#navigation-12611" data-toggle="collapse" data-parent="#navigation">Công cụ phát triển (Development Tools) <b class="caret"></b></a><div id="navigation-12611" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-tool-debugger.html">Thanh công cụ gỡ lỗi và sửa lỗi (Debug Toolbar và Debugger)</a>
<a class="list-group-item" href="./guide-tool-gii.html">Sử dụng Gii để tạo code</a>
<a class="list-group-item" href="./guide-tool-api-doc.html">Tạo tài liệu về API </a></div>
<a class="list-group-item" href="#navigation-12612" data-toggle="collapse" data-parent="#navigation">Testing <b class="caret"></b></a><div id="navigation-12612" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-test-overview.html">Tổng quan</a>
<a class="list-group-item" href="./guide-test-environment-setup.html">Thiết lập môi trường</a>
<a class="list-group-item" href="./guide-test-unit.html">Unit Tests</a>
<a class="list-group-item" href="./guide-test-functional.html">Kiểm tra chức năng (Functional Tests)</a>
<a class="list-group-item" href="./guide-test-acceptance.html">Acceptance Tests</a>
<a class="list-group-item" href="./guide-test-fixtures.html">Fixtures</a></div>
<a class="list-group-item" href="#navigation-12613" data-toggle="collapse" data-parent="#navigation">Chủ đề năng cao <b class="caret"></b></a><div id="navigation-12613" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-tutorial-advanced-app.html">Advanced Application Template</a>
<a class="list-group-item" href="./guide-tutorial-start-from-scratch.html">Building Application from Scratch</a>
<a class="list-group-item" href="./guide-tutorial-console.html">Giao diện dòng lệnh (Console Commands)</a>
<a class="list-group-item" href="./guide-tutorial-core-validators.html">Core Validators</a>
<a class="list-group-item" href="./guide-tutorial-i18n.html">Quốc tế hóa (Internationalization)</a>
<a class="list-group-item" href="./guide-tutorial-mailing.html">Thư (Mailing)</a>
<a class="list-group-item" href="./guide-tutorial-performance-tuning.html">Tối ưu hiệu năng ứng dụng (Performance Tuning)</a>
<a class="list-group-item" href="./guide-tutorial-shared-hosting.html">Shared Hosting Environment</a>
<a class="list-group-item" href="./guide-tutorial-template-engines.html">Template Engines</a>
<a class="list-group-item" href="./guide-tutorial-yii-integration.html">Working with Third-Party Code</a></div>
<a class="list-group-item" href="#navigation-12614" data-toggle="collapse" data-parent="#navigation">Widgets <b class="caret"></b></a><div id="navigation-12614" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-widget-bootstrap.html">Bootstrap Widgets</a>
<a class="list-group-item" href="./guide-widget-jui.html">jQuery UI Widgets</a></div>
<a class="list-group-item" href="#navigation-12615" data-toggle="collapse" data-parent="#navigation">Helpers <b class="caret"></b></a><div id="navigation-12615" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-helper-overview.html">Tổng quan</a>
<a class="list-group-item" href="./guide-helper-array.html">ArrayHelper</a>
<a class="list-group-item" href="./guide-helper-html.html">Html</a>
<a class="list-group-item" href="./guide-helper-url.html">Url</a></div></div>    </div>
    <div class="col-md-9 guide-content" role="main">
        <h1>Yii 2 Core Framework Code Style <span id="yii-2-core-framework-code-style"></span><a href="#yii-2-core-framework-code-style" class="hashlink">&para;</a></h1>
<div class="toc"><ol><li><a href="#1-overview">1. Overview</a></li>
<li><a href="#2-files">2. Files</a></li>
<li><a href="#3-class-names">3. Class Names</a></li>
<li><a href="#4-classes">4. Classes</a></li>
<li><a href="#5-php">5 PHP</a></li>
<li><a href="#documentation">Documentation</a></li>
<li><a href="#additional-rules">Additional rules</a></li></ol></div>
<p>The following code style is used for Yii 2.x core and official extensions development. If you want to pull-request code
into the core, consider using it. We aren't forcing you to use this code style for your application. Feel free to choose
what suits you better.</p>
<p>You can get a config for CodeSniffer here: <a href="https://github.com/yiisoft/yii2-coding-standards">https://github.com/yiisoft/yii2-coding-standards</a></p>
<h2>1. Overview <span id="1-overview"></span><a href="#1-overview" class="hashlink">&para;</a></h2><p>Overall we're using <a href="https://github.com/php-fig/fig-standards/blob/master/accepted/PSR-2-coding-style-guide.md">PSR-2</a>
compatible style so everything that applies to
<a href="https://github.com/php-fig/fig-standards/blob/master/accepted/PSR-2-coding-style-guide.md">PSR-2</a> is applied to our code
style as well.</p>
<ul>
<li>Files MUST use either <code>&lt;?php</code> or <code>&lt;?=</code> tags.</li>
<li>There should be a newline at the end of file.</li>
<li>Files MUST use only UTF-8 without BOM for PHP code.</li>
<li>Code MUST use 4 spaces for indenting, not tabs.</li>
<li>Class names MUST be declared in <code>StudlyCaps</code>.</li>
<li>Class constants MUST be declared in all upper case with underscore separators.</li>
<li>Method names MUST be declared in <code>camelCase</code>.</li>
<li>Property names MUST be declared in <code>camelCase</code>.</li>
<li>Property names MUST start with an initial underscore if they are private.</li>
<li>Always use <code>elseif</code> instead of <code>else if</code>.</li>
</ul>
<h2>2. Files <span id="2-files"></span><a href="#2-files" class="hashlink">&para;</a></h2><h3>2.1. PHP Tags <span id="21-php-tags"></span><a href="#21-php-tags" class="hashlink">&para;</a></h3><ul>
<li>PHP code MUST use <code>&lt;?php ?&gt;</code> or <code>&lt;?=</code> tags; it MUST NOT use the other tag variations such as <code>&lt;?</code>.</li>
<li>In case file contains PHP only it should not have trailing <code>?&gt;</code>.</li>
<li>Do not add trailing spaces to the end of the lines.</li>
<li>Any file that contains PHP code should end with the extension <code>.php</code>.</li>
</ul>
<h3>2.2. Character Encoding <span id="22-character-encoding"></span><a href="#22-character-encoding" class="hashlink">&para;</a></h3><p>PHP code MUST use only UTF-8 without BOM.</p>
<h2>3. Class Names <span id="3-class-names"></span><a href="#3-class-names" class="hashlink">&para;</a></h2><p>Class names MUST be declared in <code>StudlyCaps</code>. For example, <code>Controller</code>, <code>Model</code>.</p>
<h2>4. Classes <span id="4-classes"></span><a href="#4-classes" class="hashlink">&para;</a></h2><p>The term "class" refers to all classes and interfaces here.</p>
<ul>
<li>Classes should be named using <code>CamelCase</code>.</li>
<li>The brace should always be written on the line underneath the class name.</li>
<li>Every class must have a documentation block that conforms to the PHPDoc.</li>
<li>All code in a class must be indented with 4 spaces.</li>
<li>There should be only one class in a single PHP file.</li>
<li>All classes should be namespaced.</li>
<li>Class name should match file name. Class namespace should match directory structure.</li>
</ul>
<pre><code class="hljs php language-php"><span class="hljs-comment">/**
 * Documentation
 */</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyClass</span> <span class="hljs-keyword">extends</span> \<span class="hljs-title">yii</span>\<span class="hljs-title">Object</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">MyInterface</span>
</span>{
    <span class="hljs-comment">// code</span>
}
</code></pre>
<h3>4.1. Constants <span id="41-constants"></span><a href="#41-constants" class="hashlink">&para;</a></h3><p>Class constants MUST be declared in all upper case with underscore separators.
For example:</p>
<pre><code class="hljs php language-php"><span class="hljs-preprocessor">&lt;?php</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Foo</span>
</span>{
    <span class="hljs-keyword">const</span> VERSION = <span class="hljs-string">'1.0'</span>;
    <span class="hljs-keyword">const</span> DATE_APPROVED = <span class="hljs-string">'2012-06-01'</span>;
}
</code></pre>
<h3>4.2. Properties <span id="42-properties"></span><a href="#42-properties" class="hashlink">&para;</a></h3><ul>
<li>When declaring public class members specify <code>public</code> keyword explicitly.</li>
<li>Public and protected variables should be declared at the top of the class before any method declarations.
Private variables should also be declared at the top of the class but may be added right before the methods
that are dealing with them in cases where they are only related to a small subset of the class methods.</li>
<li>The order of property declaration in a class should be ascending based on their visibility: from public over protected to private.</li>
<li>There are no strict rules for ordering properties that have the same visibility.</li>
<li>For better readability there should be no blank lines between property declarations and two blank lines
between property and method declaration sections. One blank line should be added between the different visibility groups.</li>
<li>Private variables should be named like <code>$_varName</code>.</li>
<li>Public class members and standalone variables should be named using <code>$camelCase</code>
with first letter lowercase.</li>
<li>Use descriptive names. Variables such as <code>$i</code> and <code>$j</code> are better not to be used.</li>
</ul>
<p>For example:</p>
<pre><code class="hljs php language-php"><span class="hljs-preprocessor">&lt;?php</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Foo</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-variable">$publicProp1</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-variable">$publicProp2</span>;

    <span class="hljs-keyword">protected</span> <span class="hljs-variable">$protectedProp</span>;

    <span class="hljs-keyword">private</span> <span class="hljs-variable">$_privateProp</span>;


    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">someMethod</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-comment">// ...</span>
    }
}
</code></pre>
<h3>4.3. Methods <span id="43-methods"></span><a href="#43-methods" class="hashlink">&para;</a></h3><ul>
<li>Functions and methods should be named using <code>camelCase</code> with first letter lowercase.</li>
<li>Name should be descriptive by itself indicating the purpose of the function.</li>
<li>Class methods should always declare visibility using <code>private</code>, <code>protected</code> and
<code>public</code> modifiers. <code>var</code> is not allowed.</li>
<li>Opening brace of a function should be on the line after the function declaration.</li>
</ul>
<pre><code class="hljs php language-php"><span class="hljs-comment">/**
 * Documentation
 */</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Foo</span>
</span>{
    <span class="hljs-comment">/**
     * Documentation
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bar</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-comment">// code</span>
        <span class="hljs-keyword">return</span> <span class="hljs-variable">$value</span>;
    }
}
</code></pre>
<h3>4.4 PHPDoc blocks <span id="44-phpdoc-blocks"></span><a href="#44-phpdoc-blocks" class="hashlink">&para;</a></h3><ul>
<li><code>@param</code>, <code>@var</code>, <code>@property</code> and <code>@return</code> must declare types as <code>bool</code>, <code>int</code>, <code>string</code>, <code>array</code> or <code>null</code>.
You can use a class names as well such as <code>Model</code> or <code>ActiveRecord</code>.</li>
<li>For a typed arrays use <code>ClassName[]</code>.</li>
<li>The first line of the PHPDoc must describe the purpose of the method.</li>
<li>If method checks something (<code>isActive</code>, <code>hasClass</code>, etc) the first line should start with <code>Checks whether</code>.</li>
<li><code>@return</code> should explicitly describe what exactly will be returned.</li>
</ul>
<pre><code class="hljs php language-php"><span class="hljs-comment">/**
 * Checkes whether the IP is in subnet range
 *
 * <span class="hljs-doctag">@param</span> string $ip an IPv4 or IPv6 address
 * <span class="hljs-doctag">@param</span> int $cidr the CIDR lendth
 * <span class="hljs-doctag">@param</span> string $range subnet in CIDR format e.g. `10.0.0.0/8` or `2001:af::/64`
 * <span class="hljs-doctag">@return</span> bool whether the IP is in subnet range
 */</span>
 <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">inRange</span><span class="hljs-params">(<span class="hljs-variable">$ip</span>, <span class="hljs-variable">$cidr</span>, <span class="hljs-variable">$range</span>)</span>
 </span>{
   <span class="hljs-comment">// ...</span>
 }
</code></pre>
<h3>4.5 Constructors <span id="45-constructors"></span><a href="#45-constructors" class="hashlink">&para;</a></h3><ul>
<li><code>__construct</code> should be used instead of PHP 4 style constructors.</li>
</ul>
<h2>5 PHP <span id="5-php"></span><a href="#5-php" class="hashlink">&para;</a></h2><h3>5.1 Types <span id="51-types"></span><a href="#51-types" class="hashlink">&para;</a></h3><ul>
<li>All PHP types and values should be used lowercase. That includes <code>true</code>, <code>false</code>, <code>null</code> and <code>array</code>.</li>
</ul>
<p>Changing type of an existing variable is considered as a bad practice. Try not to write such code unless it is really necessary.</p>
<pre><code class="hljs php language-php"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">save</span><span class="hljs-params">(Transaction <span class="hljs-variable">$transaction</span>, <span class="hljs-variable">$argument2</span> = <span class="hljs-number">100</span>)</span>
</span>{
    <span class="hljs-variable">$transaction</span> = <span class="hljs-keyword">new</span> Connection; <span class="hljs-comment">// bad</span>
    <span class="hljs-variable">$argument2</span> = <span class="hljs-number">200</span>; <span class="hljs-comment">// good</span>
}
</code></pre>
<h3>5.2 Strings <span id="52-strings"></span><a href="#52-strings" class="hashlink">&para;</a></h3><ul>
<li>If string doesn't contain variables or single quotes, use single quotes.</li>
</ul>
<pre><code class="hljs php language-php"><span class="hljs-variable">$str</span> = <span class="hljs-string">'Like this.'</span>;
</code></pre>
<ul>
<li>If string contains single quotes you can use double quotes to avoid extra escaping.</li>
</ul>
<h4>Variable substitution <span id="variable-substitution"></span><a href="#variable-substitution" class="hashlink">&para;</a></h4><pre><code class="hljs php language-php"><span class="hljs-variable">$str1</span> = <span class="hljs-string">"Hello $username!"</span>;
<span class="hljs-variable">$str2</span> = <span class="hljs-string">"Hello {$username}!"</span>;
</code></pre>
<p>The following is not permitted:</p>
<pre><code class="hljs php language-php"><span class="hljs-variable">$str3</span> = <span class="hljs-string">"Hello ${username}!"</span>;
</code></pre>
<h4>Concatenation <span id="concatenation"></span><a href="#concatenation" class="hashlink">&para;</a></h4><p>Add spaces around dot when concatenating strings:</p>
<pre><code class="hljs php language-php"><span class="hljs-variable">$name</span> = <span class="hljs-string">'Yii'</span> . <span class="hljs-string">' Framework'</span>;
</code></pre>
<p>When string is long format is the following:</p>
<pre><code class="hljs php language-php"><span class="hljs-variable">$sql</span> = <span class="hljs-string">"SELECT *"</span>
    . <span class="hljs-string">"FROM `post` "</span>
    . <span class="hljs-string">"WHERE `id` = 121 "</span>;
</code></pre>
<h3>5.3 arrays <span id="53-arrays"></span><a href="#53-arrays" class="hashlink">&para;</a></h3><p>For arrays we're using PHP 5.4 short array syntax.</p>
<h4>Numerically indexed <span id="numerically-indexed"></span><a href="#numerically-indexed" class="hashlink">&para;</a></h4><ul>
<li>Do not use negative numbers as array indexes.</li>
</ul>
<p>Use the following formatting when declaring array:</p>
<pre><code class="hljs php language-php"><span class="hljs-variable">$arr</span> = [<span class="hljs-number">3</span>, <span class="hljs-number">14</span>, <span class="hljs-number">15</span>, <span class="hljs-string">'Yii'</span>, <span class="hljs-string">'Framework'</span>];
</code></pre>
<p>If there are too many elements for a single line:</p>
<pre><code class="hljs php language-php"><span class="hljs-variable">$arr</span> = [
    <span class="hljs-number">3</span>, <span class="hljs-number">14</span>, <span class="hljs-number">15</span>,
    <span class="hljs-number">92</span>, <span class="hljs-number">6</span>, <span class="hljs-variable">$test</span>,
    <span class="hljs-string">'Yii'</span>, <span class="hljs-string">'Framework'</span>,
];
</code></pre>
<h4>Associative <span id="associative"></span><a href="#associative" class="hashlink">&para;</a></h4><p>Use the following format for associative arrays:</p>
<pre><code class="hljs php language-php"><span class="hljs-variable">$config</span> = [
    <span class="hljs-string">'name'</span> =&gt; <span class="hljs-string">'Yii'</span>,
    <span class="hljs-string">'options'</span> =&gt; [<span class="hljs-string">'usePHP'</span> =&gt; <span class="hljs-keyword">true</span>],
];
</code></pre>
<h3>5.4 control statements <span id="54-control-statements"></span><a href="#54-control-statements" class="hashlink">&para;</a></h3><ul>
<li>Control statement condition must have single space before and after parenthesis.</li>
<li>Operators inside of parenthesis should be separated by spaces.</li>
<li>Opening brace is on the same line.</li>
<li>Closing brace is on a new line.</li>
<li>Always use braces for single line statements.</li>
</ul>
<pre><code class="hljs php language-php"><span class="hljs-keyword">if</span> (<span class="hljs-variable">$event</span> === <span class="hljs-keyword">null</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Event();
}
<span class="hljs-keyword">if</span> (<span class="hljs-variable">$event</span> <span class="hljs-keyword">instanceof</span> CoolEvent) {
    <span class="hljs-keyword">return</span> <span class="hljs-variable">$event</span>-&gt;instance();
}
<span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;


<span class="hljs-comment">// the following is NOT allowed:</span>
<span class="hljs-keyword">if</span> (!<span class="hljs-variable">$model</span> &amp;&amp; <span class="hljs-keyword">null</span> === <span class="hljs-variable">$event</span>)
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-keyword">Exception</span>(<span class="hljs-string">'test'</span>);
</code></pre>
<p>Prefer avoiding <code>else</code> after <code>return</code> where it makes sense.
Use <a href="http://refactoring.com/catalog/replaceNestedConditionalWithGuardClauses.html">guard conditions</a>.</p>
<pre><code class="hljs php language-php"><span class="hljs-variable">$result</span> = <span class="hljs-variable">$this</span>-&gt;getResult();
<span class="hljs-keyword">if</span> (<span class="hljs-keyword">empty</span>(<span class="hljs-variable">$result</span>)) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
} <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// process result</span>
}
</code></pre>
<p>is better as</p>
<pre><code class="hljs php language-php"><span class="hljs-variable">$result</span> = <span class="hljs-variable">$this</span>-&gt;getResult();
<span class="hljs-keyword">if</span> (<span class="hljs-keyword">empty</span>(<span class="hljs-variable">$result</span>)) {
   <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
}

<span class="hljs-comment">// process result</span>
</code></pre>
<h4>switch <span id="switch"></span><a href="#switch" class="hashlink">&para;</a></h4><p>Use the following formatting for switch:</p>
<pre><code class="hljs php language-php"><span class="hljs-keyword">switch</span> (<span class="hljs-variable">$this</span>-&gt;phpType) {
    <span class="hljs-keyword">case</span> <span class="hljs-string">'string'</span>:
        <span class="hljs-variable">$a</span> = (string) <span class="hljs-variable">$value</span>;
        <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> <span class="hljs-string">'integer'</span>:
    <span class="hljs-keyword">case</span> <span class="hljs-string">'int'</span>:
        <span class="hljs-variable">$a</span> = (int) <span class="hljs-variable">$value</span>;
        <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> <span class="hljs-string">'boolean'</span>:
        <span class="hljs-variable">$a</span> = (bool) <span class="hljs-variable">$value</span>;
        <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">default</span>:
        <span class="hljs-variable">$a</span> = <span class="hljs-keyword">null</span>;
}
</code></pre>
<h3>5.5 function calls <span id="55-function-calls"></span><a href="#55-function-calls" class="hashlink">&para;</a></h3><pre><code class="hljs php language-php">doIt(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>);

doIt([<span class="hljs-string">'a'</span> =&gt; <span class="hljs-string">'b'</span>]);

doIt(<span class="hljs-string">'a'</span>, [
    <span class="hljs-string">'a'</span> =&gt; <span class="hljs-string">'b'</span>,
    <span class="hljs-string">'c'</span> =&gt; <span class="hljs-string">'d'</span>,
]);
</code></pre>
<h3>5.6 Anonymous functions (lambda) declarations <span id="56-anonymous-functions-lambda-declarations"></span><a href="#56-anonymous-functions-lambda-declarations" class="hashlink">&para;</a></h3><p>Note space between <code>function</code>/<code>use</code> tokens and open parenthesis:</p>
<pre><code class="hljs php language-php"><span class="hljs-comment">// good</span>
<span class="hljs-variable">$n</span> = <span class="hljs-number">100</span>;
<span class="hljs-variable">$sum</span> = array_reduce(<span class="hljs-variable">$numbers</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(<span class="hljs-variable">$r</span>, <span class="hljs-variable">$x</span>)</span> <span class="hljs-title">use</span> <span class="hljs-params">(<span class="hljs-variable">$n</span>)</span> </span>{
    <span class="hljs-variable">$this</span>-&gt;doMagic();
    <span class="hljs-variable">$r</span> += <span class="hljs-variable">$x</span> * <span class="hljs-variable">$n</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-variable">$r</span>;
});

<span class="hljs-comment">// bad</span>
<span class="hljs-variable">$n</span> = <span class="hljs-number">100</span>;
<span class="hljs-variable">$mul</span> = array_reduce(<span class="hljs-variable">$numbers</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(<span class="hljs-variable">$r</span>, <span class="hljs-variable">$x</span>)</span> <span class="hljs-title">use</span><span class="hljs-params">(<span class="hljs-variable">$n</span>)</span> </span>{
    <span class="hljs-variable">$this</span>-&gt;doMagic();
    <span class="hljs-variable">$r</span> *= <span class="hljs-variable">$x</span> * <span class="hljs-variable">$n</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-variable">$r</span>;
});
</code></pre>
<h2>Documentation <span id="documentation"></span><a href="#documentation" class="hashlink">&para;</a></h2><ul>
<li>Refer to <a href="http://phpdoc.org/">phpDoc</a> for documentation syntax.</li>
<li>Code without documentation is not allowed.</li>
<li>All class files must contain a "file-level" docblock at the top of each file
and a "class-level" docblock immediately above each class.</li>
<li>There is no need to use <code>@return</code> if method does return nothing.</li>
<li><p>All virtual properties in classes that extend from <code>yii\base\Object</code>
are documented with an <code>@property</code> tag in the class doc block.
These annotations are automatically generated from the <code>@return</code> or <code>@param</code>
tag in the corresponding getter or setter by running <code>./build php-doc</code> in the build directory.
You may add an <code>@property</code> tag
to the getter or setter to explicitly give a documentation message for the property
introduced by these methods when description differs from what is stated
in <code>@return</code>. Here is an example:</p>
<pre><code class="hljs php language-php">  <span class="hljs-preprocessor">&lt;?php</span>
  <span class="hljs-comment">/**
   * Returns the errors for all attribute or a single attribute.
   * <span class="hljs-doctag">@param</span> string $attribute attribute name. Use null to retrieve errors for all attributes.
   * <span class="hljs-doctag">@property</span> array An array of errors for all attributes. Empty array is returned if no error.
   * The result is a two-dimensional array. See [[getErrors()]] for detailed description.
   * <span class="hljs-doctag">@return</span> array errors for all attributes or the specified attribute. Empty array is returned if no error.
   * Note that when returning errors for all attributes, the result is a two-dimensional array, like the following:
   * ...
   */</span>
  <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getErrors</span><span class="hljs-params">(<span class="hljs-variable">$attribute</span> = null)</span>
</span></code></pre>
</li>
</ul>
<h4>File <span id="file"></span><a href="#file" class="hashlink">&para;</a></h4><pre><code class="hljs php language-php"><span class="hljs-preprocessor">&lt;?php</span>
<span class="hljs-comment">/**
 * <span class="hljs-doctag">@link</span> http://www.yiiframework.com/
 * <span class="hljs-doctag">@copyright</span> Copyright (c) 2008 Yii Software LLC
 * <span class="hljs-doctag">@license</span> http://www.yiiframework.com/license/
 */</span>
</code></pre>
<h4>Class <span id="class"></span><a href="#class" class="hashlink">&para;</a></h4><pre><code class="hljs php language-php"><span class="hljs-comment">/**
 * Component is the base class that provides the *property*, *event* and *behavior* features.
 *
 * <span class="hljs-doctag">@include</span> <span class="hljs-doctag">@yii</span>/docs/base-Component.md
 *
 * <span class="hljs-doctag">@author</span> Qiang Xue &lt;qiang.xue<span class="hljs-doctag">@gmail</span>.com&gt;
 * <span class="hljs-doctag">@since</span> 2.0
 */</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Component</span> <span class="hljs-keyword">extends</span> \<span class="hljs-title">yii</span>\<span class="hljs-title">base</span>\<span class="hljs-title">Object</span>
</span></code></pre>
<h4>Function / method <span id="function-method"></span><a href="#function-method" class="hashlink">&para;</a></h4><pre><code class="hljs php language-php"><span class="hljs-comment">/**
 * Returns the list of attached event handlers for an event.
 * You may manipulate the returned [[Vector]] object by adding or removing handlers.
 * For example,
 *
 * ```
 * $component-&gt;getEventHandlers($eventName)-&gt;insertAt(0, $eventHandler);
 * ```
 *
 * <span class="hljs-doctag">@param</span> string $name the event name
 * <span class="hljs-doctag">@return</span> Vector list of attached event handlers for the event
 * <span class="hljs-doctag">@throws</span> Exception if the event is not defined
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getEventHandlers</span><span class="hljs-params">(<span class="hljs-variable">$name</span>)</span>
</span>{
    <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">isset</span>(<span class="hljs-variable">$this</span>-&gt;_e[<span class="hljs-variable">$name</span>])) {
        <span class="hljs-variable">$this</span>-&gt;_e[<span class="hljs-variable">$name</span>] = <span class="hljs-keyword">new</span> Vector;
    }
    <span class="hljs-variable">$this</span>-&gt;ensureBehaviors();
    <span class="hljs-keyword">return</span> <span class="hljs-variable">$this</span>-&gt;_e[<span class="hljs-variable">$name</span>];
}
</code></pre>
<h4>Markdown <span id="markdown"></span><a href="#markdown" class="hashlink">&para;</a></h4><p>As you can see in the examples above we use markdown to format the phpDoc comments.</p>
<p>There is additional syntax for cross linking between classes, methods and properties in the documentation:</p>
<ul>
<li><code>[[canSetProperty]]</code> will create a link to the <code>canSetProperty</code> method or property of the same class.</li>
<li><code>[[Component::canSetProperty]]</code> will create a link to <code>canSetProperty</code> method of the class <code>Component</code> in the same namespace.</li>
<li><code>[[yii\base\Component::canSetProperty]]</code> will create a link to <code>canSetProperty</code> method of the class <code>Component</code> in namespace <code>yii\base</code>.</li>
<li><code>[[Component]]</code> will create a link to the <code>Component</code> class in the same namespace. Adding namespace to the class name is also possible here.</li>
</ul>
<p>To give one of the above mentioned links another label than the class or method name you can use the syntax shown in the following example:</p>
<pre><code class="hljs javascript">... <span class="hljs-keyword">as</span> displayed <span class="hljs-keyword">in</span> the [[header|header cell]].
</code></pre>
<p>The part before the | is the method, property or class reference while the part after | is the link label.</p>
<p>It is also possible to link to the Guide using the following syntax:</p>
<pre><code class="hljs markdown language-markdown">[<span class="hljs-link_label">link to guide</span>](<span class="hljs-link_url">guide:file-name.md</span>)
[<span class="hljs-link_label">link to guide</span>](<span class="hljs-link_url">guide:file-name.md#subsection</span>)
</code></pre>
<h4>Comments <span id="comments"></span><a href="#comments" class="hashlink">&para;</a></h4><ul>
<li>One-line comments should be started with <code>//</code> and not <code>#</code>.</li>
<li>One-line comment should be on its own line.</li>
</ul>
<h2>Additional rules <span id="additional-rules"></span><a href="#additional-rules" class="hashlink">&para;</a></h2><h3><code>=== []</code> vs <code>empty()</code> <span id="vs-empty"></span><a href="#vs-empty" class="hashlink">&para;</a></h3><p>Use <code>empty()</code> where possible.</p>
<h3>multiple return points <span id="multiple-return-points"></span><a href="#multiple-return-points" class="hashlink">&para;</a></h3><p>Return early when conditions nesting starts to get cluttered. If the method is short it doesn't matter.</p>
<h3><code>self</code> vs. <code>static</code> <span id="self-vs-static"></span><a href="#self-vs-static" class="hashlink">&para;</a></h3><p>Always use <code>static</code> except the following cases:</p>
<ul>
<li>accessing constants MUST be done via <code>self</code>: <code>self::MY_CONSTANT</code></li>
<li>accessing private static properties MUST be done via <code>self</code>: <code>self::$_events</code></li>
<li>It is allowed to use <code>self</code> for method calls where it makes sense such as recursive call to current implementation instead of extending classes implementation.</li>
</ul>
<h3>value for "don't do something" <span id="value-for-dont-do-something"></span><a href="#value-for-dont-do-something" class="hashlink">&para;</a></h3><p>Properties allowing to configure component not to do something should accept value of <code>false</code>. <code>null</code>, <code>''</code>, or <code>[]</code> should not be assumed as such.</p>
<h3>Directory/namespace names <span id="directorynamespace-names"></span><a href="#directorynamespace-names" class="hashlink">&para;</a></h3><ul>
<li>use lower case</li>
<li>use plural form for nouns which represent objects (e.g. validators)</li>
<li>use singular form for names representing relevant functionality/features (e.g. web)</li>
<li>prefer single word namespaces</li>
<li>if single word isn't suitable, use camelCase</li>
</ul>
        <div class="toplink"><a href="#" class="h1" title="go to top"><span class="glyphicon glyphicon-arrow-up"></a></div>
    </div>
</div>


</div>

<footer class="footer">
        <p class="pull-right"><small>Page generated on Tue, 27 Dec 2016 22:28:43 +0000</small></p>
    Powered by <a href="http://www.yiiframework.com/" rel="external">Yii Framework</a></footer>

<script type="text/javascript">jQuery(document).ready(function () {
    var shiftWindow = function () { scrollBy(0, -50) };
    if (location.hash) setTimeout(shiftWindow, 1);
    window.addEventListener("hashchange", shiftWindow);
var element = document.createElement("script");
element.src = "./jssearch.index.js";
document.body.appendChild(element);

var searchBox = $('#searchbox');

// search when typing in search field
searchBox.on("keyup", function(event) {
    var query = $(this).val();

    if (query == '' || event.which == 27) {
        $('#search-resultbox').hide();
        return;
    } else if (event.which == 13) {
        var selectedLink = $('#search-resultbox a.selected');
        if (selectedLink.length != 0) {
            document.location = selectedLink.attr('href');
            return;
        }
    } else if (event.which == 38 || event.which == 40) {
        $('#search-resultbox').show();

        var selected = $('#search-resultbox a.selected');
        if (selected.length == 0) {
            $('#search-results').find('a').first().addClass('selected');
        } else {
            var next;
            if (event.which == 40) {
                next = selected.parent().next().find('a').first();
            } else {
                next = selected.parent().prev().find('a').first();
            }
            if (next.length != 0) {
                var resultbox = $('#search-results');
                var position = next.position();

//              TODO scrolling is buggy and jumps around
//                resultbox.scrollTop(Math.floor(position.top));
//                console.log(position.top);

                selected.removeClass('selected');
                next.addClass('selected');
            }
        }

        return;
    }
    $('#search-resultbox').show();
    $('#search-results').html('<li><span class="no-results">No results</span></li>');

    var result = jssearch.search(query);

    if (result.length > 0) {
        var i = 0;
        var resHtml = '';

        for (var key in result) {
            if (i++ > 20) {
                break;
            }
            resHtml = resHtml +
            '<li><a href="' + result[key].file.u.substr(3) +'"><span class="title">' + result[key].file.t + '</span>' +
            '<span class="description">' + result[key].file.d + '</span></a></li>';
        }
        $('#search-results').html(resHtml);
    }
});

// hide the search results on ESC
$(document).on("keyup", function(event) { if (event.which == 27) { $('#search-resultbox').hide(); } });
// hide search results on click to document
$(document).bind('click', function (e) { $('#search-resultbox').hide(); });
// except the following:
searchBox.bind('click', function(e) { e.stopPropagation(); });
$('#search-resultbox').bind('click', function(e) { e.stopPropagation(); });

});</script></body>
</html>
