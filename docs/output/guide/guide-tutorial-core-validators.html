<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="language" content="en" />
        <link href="./assets/90d046f2/css/bootstrap.css" rel="stylesheet">
<link href="./assets/c6368d94/solarized_light.css" rel="stylesheet">
<link href="./assets/9f5cdd92/style.css" rel="stylesheet">
<script src="./assets/a6e53573/jquery.js"></script>
<script src="./assets/90d046f2/js/bootstrap.js"></script>
<script src="./assets/218ce2e5/jssearch.js"></script>    <title>Core Validators - Chủ đề năng cao - The Definitive Guide to Yii 2.0</title>
</head>
<body>

<div class="wrap">
    <nav id="w11572" class="navbar-inverse navbar-fixed-top navbar" role="navigation"><div class="navbar-header"><button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#w11572-collapse"><span class="sr-only">Toggle navigation</span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span></button><a class="navbar-brand" href="./guide-index.html">The Definitive Guide to Yii 2.0</a></div><div id="w11572-collapse" class="collapse navbar-collapse"><ul id="w11573" class="navbar-nav nav"><li><a href="./guide-README.html">Guide</a></li></ul><div class="navbar-form navbar-left" role="search">
  <div class="form-group">
    <input id="searchbox" type="text" class="form-control" placeholder="Search">
  </div>
</div>
</div></nav>
    <div id="search-resultbox" style="display: none;" class="modal-content">
        <ul id="search-results">
        </ul>
    </div>

    
<div class="row">
    <div class="col-md-2">
                <div id="navigation" class="list-group"><a class="list-group-item" href="#navigation-11556" data-toggle="collapse" data-parent="#navigation">Giới thiệu <b class="caret"></b></a><div id="navigation-11556" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-intro-yii.html">Về Yii</a>
<a class="list-group-item" href="./guide-intro-upgrade-from-v1.html">Nâng cấp lên từ phiên bản 1.1</a></div>
<a class="list-group-item" href="#navigation-11557" data-toggle="collapse" data-parent="#navigation">Bắt đầu <b class="caret"></b></a><div id="navigation-11557" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-start-installation.html">Cài đặt Yii</a>
<a class="list-group-item" href="./guide-start-workflow.html">Thực hiện chạy ứng dụng</a>
<a class="list-group-item" href="./guide-start-hello.html">Viết lời chào đầu tiên</a>
<a class="list-group-item" href="./guide-start-forms.html">Làm việc với Forms</a>
<a class="list-group-item" href="./guide-start-databases.html">Làm việc với Databases</a>
<a class="list-group-item" href="./guide-start-gii.html">Sử dụng Gii để sinh code</a>
<a class="list-group-item" href="./guide-start-looking-ahead.html">Mức cao hơn</a></div>
<a class="list-group-item" href="#navigation-11558" data-toggle="collapse" data-parent="#navigation">Kiến trúc ứng dụng (Application Structure) <b class="caret"></b></a><div id="navigation-11558" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-structure-overview.html">Tổng quan về kiến trúc ứng dụng</a>
<a class="list-group-item" href="./guide-structure-entry-scripts.html">Mục Scripts</a>
<a class="list-group-item" href="./guide-structure-applications.html">Ứng dụng (Applications)</a>
<a class="list-group-item" href="./guide-structure-application-components.html">Thành phần ứng dụng</a>
<a class="list-group-item" href="./guide-structure-controllers.html">Bộ điều khiển (Controllers)</a>
<a class="list-group-item" href="./guide-structure-models.html">Models</a>
<a class="list-group-item" href="./guide-structure-views.html">Views</a>
<a class="list-group-item" href="./guide-structure-modules.html">Modules</a>
<a class="list-group-item" href="./guide-structure-filters.html">Bộ lọc (Filters)</a>
<a class="list-group-item" href="./guide-structure-widgets.html">Widgets</a>
<a class="list-group-item" href="./guide-structure-assets.html">Assets</a>
<a class="list-group-item" href="./guide-structure-extensions.html">Phần mở rộng (Extensions)</a></div>
<a class="list-group-item" href="#navigation-11559" data-toggle="collapse" data-parent="#navigation">Yêu cầu xử lý (Handling Requests) <b class="caret"></b></a><div id="navigation-11559" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-runtime-overview.html">Tổng quan</a>
<a class="list-group-item" href="./guide-runtime-bootstrapping.html">Bootstrapping</a>
<a class="list-group-item" href="./guide-runtime-routing.html">Routing và URL Creation</a>
<a class="list-group-item" href="./guide-runtime-requests.html">Yêu cầu (Requests)</a>
<a class="list-group-item" href="./guide-runtime-responses.html">Responses</a>
<a class="list-group-item" href="./guide-runtime-sessions-cookies.html">Sessions và Cookies</a>
<a class="list-group-item" href="./guide-runtime-handling-errors.html">Xử lý lỗi (Handling Error)</a>
<a class="list-group-item" href="./guide-runtime-logging.html">Logging</a></div>
<a class="list-group-item" href="#navigation-11560" data-toggle="collapse" data-parent="#navigation">Các khái niệm chính <b class="caret"></b></a><div id="navigation-11560" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-concept-components.html">Thành phần (Components)</a>
<a class="list-group-item" href="./guide-concept-properties.html">Thuộc tính (Properties)</a>
<a class="list-group-item" href="./guide-concept-events.html">Sự kiện (Events)</a>
<a class="list-group-item" href="./guide-concept-behaviors.html">Hành vi (Behaviors)</a>
<a class="list-group-item" href="./guide-concept-configurations.html">Cấu hình (Configurations)</a>
<a class="list-group-item" href="./guide-concept-aliases.html">Bí danh (Aliases)</a>
<a class="list-group-item" href="./guide-concept-autoloading.html">Lớp tự động nạp (Autoloading)</a>
<a class="list-group-item" href="./guide-concept-service-locator.html">Service Locator</a>
<a class="list-group-item" href="./guide-concept-di-container.html">Dependency Injection Container</a></div>
<a class="list-group-item" href="#navigation-11561" data-toggle="collapse" data-parent="#navigation">Làm việc với Databases <b class="caret"></b></a><div id="navigation-11561" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-db-dao.html">Data Access Objects</a>
<a class="list-group-item" href="./guide-db-query-builder.html">Query Builder</a>
<a class="list-group-item" href="./guide-db-active-record.html">Active Record</a>
<a class="list-group-item" href="./guide-db-migrations.html">Migrations</a>
<a class="list-group-item" href="./guide-db-sphinx.html">Sphinx</a>
<a class="list-group-item" href="./guide-db-redis.html">Redis</a>
<a class="list-group-item" href="./guide-db-mongodb.html">MongoDB</a>
<a class="list-group-item" href="./guide-db-elasticsearch.html">ElasticSearch</a></div>
<a class="list-group-item" href="#navigation-11562" data-toggle="collapse" data-parent="#navigation">Nhận dữ liệu từ user <b class="caret"></b></a><div id="navigation-11562" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-input-forms.html">Tạo mới Forms</a>
<a class="list-group-item" href="./guide-input-validation.html">Kiểm tra dữ liệu đầu vào (Validating Input)</a>
<a class="list-group-item" href="./guide-input-file-upload.html">File Upload</a>
<a class="list-group-item" href="./guide-input-tabular-input.html">Thu thập dữ liệu từ danh sách đầu vào (Đang phát triển)</a>
<a class="list-group-item" href="./guide-input-multiple-models.html">Lấy dữ liệu cho nhiều Models (Chưa giải quyết)</a></div>
<a class="list-group-item" href="#navigation-11563" data-toggle="collapse" data-parent="#navigation">Hiển thị dữ liệu <b class="caret"></b></a><div id="navigation-11563" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-output-formatter.html">Định dạng dữ liệu (Data Formatting)</a>
<a class="list-group-item" href="./guide-output-pagination.html">Phân trang (Pagination)</a>
<a class="list-group-item" href="./guide-output-sorting.html">Sắp xếp (Sorting)</a>
<a class="list-group-item" href="./guide-output-data-providers.html">Cung cấp dữ liệu ra (Data Providers)</a>
<a class="list-group-item" href="./guide-output-data-widgets.html">Dữ liệu Widgets</a>
<a class="list-group-item" href="./guide-output-client-scripts.html">làm việc với Client Scripts</a>
<a class="list-group-item" href="./guide-output-theming.html">Giao diện (Theming)</a></div>
<a class="list-group-item" href="#navigation-11564" data-toggle="collapse" data-parent="#navigation">Bảo mật (Security) <b class="caret"></b></a><div id="navigation-11564" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-security-authentication.html">Xác thực (Authentication)</a>
<a class="list-group-item" href="./guide-security-authorization.html">Quyền (Authorization)</a>
<a class="list-group-item" href="./guide-security-passwords.html">Các thao tác xử lý với Passwords (Đang phát triển)</a>
<a class="list-group-item" href="./guide-security-auth-clients.html">Auth Clients</a>
<a class="list-group-item" href="./guide-security-best-practices.html">Best Practices</a></div>
<a class="list-group-item" href="#navigation-11565" data-toggle="collapse" data-parent="#navigation">Bộ nhớ Cache <b class="caret"></b></a><div id="navigation-11565" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-caching-overview.html">Tổng quan</a>
<a class="list-group-item" href="./guide-caching-data.html">Cache dữ liệu</a>
<a class="list-group-item" href="./guide-caching-fragment.html">Fragment Caching</a>
<a class="list-group-item" href="./guide-caching-page.html">Page Caching</a>
<a class="list-group-item" href="./guide-caching-http.html">HTTP Caching</a></div>
<a class="list-group-item" href="#navigation-11566" data-toggle="collapse" data-parent="#navigation">RESTful Web Services <b class="caret"></b></a><div id="navigation-11566" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-rest-quick-start.html">Bắt đầu</a>
<a class="list-group-item" href="./guide-rest-resources.html">Tài nguyên (Resources)</a>
<a class="list-group-item" href="./guide-rest-controllers.html">Bộ điều khiển (Controllers)</a>
<a class="list-group-item" href="./guide-rest-routing.html">Routing</a>
<a class="list-group-item" href="./guide-rest-response-formatting.html">Định dạng thông điệp gửi đi (Response Formatting)</a>
<a class="list-group-item" href="./guide-rest-authentication.html">Xác thực (Authentication)</a>
<a class="list-group-item" href="./guide-rest-rate-limiting.html">Rate Limiting</a>
<a class="list-group-item" href="./guide-rest-versioning.html">Phiên bản (Version)</a>
<a class="list-group-item" href="./guide-rest-error-handling.html">Error Handling</a></div>
<a class="list-group-item" href="#navigation-11567" data-toggle="collapse" data-parent="#navigation">Công cụ phát triển (Development Tools) <b class="caret"></b></a><div id="navigation-11567" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-tool-debugger.html">Thanh công cụ gỡ lỗi và sửa lỗi (Debug Toolbar và Debugger)</a>
<a class="list-group-item" href="./guide-tool-gii.html">Sử dụng Gii để tạo code</a>
<a class="list-group-item" href="./guide-tool-api-doc.html">Tạo tài liệu về API </a></div>
<a class="list-group-item" href="#navigation-11568" data-toggle="collapse" data-parent="#navigation">Testing <b class="caret"></b></a><div id="navigation-11568" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-test-overview.html">Tổng quan</a>
<a class="list-group-item" href="./guide-test-environment-setup.html">Thiết lập môi trường</a>
<a class="list-group-item" href="./guide-test-unit.html">Unit Tests</a>
<a class="list-group-item" href="./guide-test-functional.html">Kiểm tra chức năng (Functional Tests)</a>
<a class="list-group-item" href="./guide-test-acceptance.html">Acceptance Tests</a>
<a class="list-group-item" href="./guide-test-fixtures.html">Fixtures</a></div>
<a class="list-group-item active" href="#navigation-11569" data-toggle="collapse" data-parent="#navigation">Chủ đề năng cao <b class="caret"></b></a><div id="navigation-11569" class="submenu panel-collapse collapse in"><a class="list-group-item" href="./guide-tutorial-advanced-app.html">Advanced Application Template</a>
<a class="list-group-item" href="./guide-tutorial-start-from-scratch.html">Building Application from Scratch</a>
<a class="list-group-item" href="./guide-tutorial-console.html">Giao diện dòng lệnh (Console Commands)</a>
<a class="list-group-item active" href="./guide-tutorial-core-validators.html">Core Validators</a>
<a class="list-group-item" href="./guide-tutorial-i18n.html">Quốc tế hóa (Internationalization)</a>
<a class="list-group-item" href="./guide-tutorial-mailing.html">Thư (Mailing)</a>
<a class="list-group-item" href="./guide-tutorial-performance-tuning.html">Tối ưu hiệu năng ứng dụng (Performance Tuning)</a>
<a class="list-group-item" href="./guide-tutorial-shared-hosting.html">Shared Hosting Environment</a>
<a class="list-group-item" href="./guide-tutorial-template-engines.html">Template Engines</a>
<a class="list-group-item" href="./guide-tutorial-yii-integration.html">Working with Third-Party Code</a></div>
<a class="list-group-item" href="#navigation-11570" data-toggle="collapse" data-parent="#navigation">Widgets <b class="caret"></b></a><div id="navigation-11570" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-widget-bootstrap.html">Bootstrap Widgets</a>
<a class="list-group-item" href="./guide-widget-jui.html">jQuery UI Widgets</a></div>
<a class="list-group-item" href="#navigation-11571" data-toggle="collapse" data-parent="#navigation">Helpers <b class="caret"></b></a><div id="navigation-11571" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-helper-overview.html">Tổng quan</a>
<a class="list-group-item" href="./guide-helper-array.html">ArrayHelper</a>
<a class="list-group-item" href="./guide-helper-html.html">Html</a>
<a class="list-group-item" href="./guide-helper-url.html">Url</a></div></div>    </div>
    <div class="col-md-9 guide-content" role="main">
        <h1>コアバリデータ <span id="koabarideta"></span><a href="#koabarideta" class="hashlink">&para;</a></h1>
<div class="toc"><ol><li><a href="#boolean">yii\validators\BooleanValidator</a></li>
<li><a href="#captcha">yii\captcha\CaptchaValidator</a></li>
<li><a href="#compare">yii\validators\CompareValidator</a></li>
<li><a href="#date">yii\validators\DateValidator</a></li>
<li><a href="#default">yii\validators\DefaultValueValidator</a></li>
<li><a href="#double">yii\validators\NumberValidator</a></li>
<li><a href="#each">yii\validators\EachValidator</a></li>
<li><a href="#email">yii\validators\EmailValidator</a></li>
<li><a href="#exist">yii\validators\ExistValidator</a></li>
<li><a href="#file">yii\validators\FileValidator</a></li>
<li><a href="#filter">yii\validators\FilterValidator</a></li>
<li><a href="#image">yii\validators\ImageValidator</a></li>
<li><a href="#ip">yii\validators\IpValidator</a></li>
<li><a href="#in">yii\validators\RangeValidator</a></li>
<li><a href="#integer">yii\validators\NumberValidator</a></li>
<li><a href="#match">yii\validators\RegularExpressionValidator</a></li>
<li><a href="#number">yii\validators\NumberValidator</a></li>
<li><a href="#required">yii\validators\RequiredValidator</a></li>
<li><a href="#safe">yii\validators\SafeValidator</a></li>
<li><a href="#string">yii\validators\StringValidator</a></li>
<li><a href="#trim">yii\validators\FilterValidator</a></li>
<li><a href="#unique">yii\validators\UniqueValidator</a></li>
<li><a href="#url">yii\validators\UrlValidator</a></li></ol></div>
<p>Yii は、一般的に使われる一連のコアバリデータを提供しています。
コアバリデータは、主として、<code>yii\validators</code> 名前空間の下にあります。
長ったらしいバリデータクラス名を使う代りに、<em>エイリアス</em> を使って使用するコアバリデータを指定することが出来ます。
例えば、<span class="broken-link">yii\validators\RequiredValidator</span> クラスを参照するのに <code>required</code> というエイリアスを使うことが出来ます。</p>
<pre><code class="hljs php language-php"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">rules</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-keyword">return</span> [
        [[<span class="hljs-string">'email'</span>, <span class="hljs-string">'password'</span>], <span class="hljs-string">'required'</span>],
    ];
}
</code></pre>
<p><span class="broken-link">yii\validators\Validator::builtInValidators</span> プロパティがサポートされている全てのコアバリデータのエイリアスを宣言しています。</p>
<p>以下では、全てのコアバリデータについて、主な使用方法とプロパティを説明します。</p>
<h2><span class="broken-link">yii\validators\BooleanValidator</span>  <span id="boolean"></span><a href="#boolean" class="hashlink">&para;</a></h2><pre><code class="hljs php language-php">[
    <span class="hljs-comment">// データ型にかかわらず、"selected" が 0 または 1 であるかどうかチェック</span>
    [<span class="hljs-string">'selected'</span>, <span class="hljs-string">'boolean'</span>],

    <span class="hljs-comment">// "deleted" が boolean 型であり、true または false であるかどうかチェック</span>
    [<span class="hljs-string">'deleted'</span>, <span class="hljs-string">'boolean'</span>, <span class="hljs-string">'trueValue'</span> =&gt; <span class="hljs-keyword">true</span>, <span class="hljs-string">'falseValue'</span> =&gt; <span class="hljs-keyword">false</span>, <span class="hljs-string">'strict'</span> =&gt; <span class="hljs-keyword">true</span>],
]
</code></pre>
<p>このバリデータは、入力値が真偽値であるかどうかをチェックします。</p>
<ul>
<li><code>trueValue</code>: <em>true</em> を表す値。デフォルト値は <code>'1'</code>。</li>
<li><code>falseValue</code>: <em>false</em> を表す値。デフォルト値は <code>'0'</code>。</li>
<li><code>strict</code>: 入力値の型が <code>trueValue</code> と <code>falseValue</code> の型と一致しなければならないかどうか。デフォルト値は <code>false</code>。</li>
</ul>
<blockquote class="note"><p><strong>Note: </strong>HTML フォームで送信されたデータ入力値は全て文字列であるため、通常は、<span class="broken-link">yii\validators\BooleanValidator::strict</span> プロパティは false のままにすべきです。</p>
</blockquote>
<h2><span class="broken-link">yii\captcha\CaptchaValidator</span>  <span id="captcha"></span><a href="#captcha" class="hashlink">&para;</a></h2><pre><code class="hljs php language-php">[
    [<span class="hljs-string">'verificationCode'</span>, <span class="hljs-string">'captcha'</span>],
]
</code></pre>
<p>このバリデータは、通常、<span class="broken-link">yii\captcha\CaptchaAction</span> および <span class="broken-link">yii\captcha\Captcha</span> と一緒に使われ、入力値が <span class="broken-link">yii\captcha\Captcha</span> ウィジェットによって表示された検証コードと同じであることを確認します。</p>
<ul>
<li><code>caseSensitive</code>: 検証コードの比較で大文字と小文字を区別するかどうか。デフォルト値は false。</li>
<li><code>captchaAction</code>: CAPTCHA 画像を表示する <span class="broken-link">yii\captcha\CaptchaAction</span> に対応する <a href="guide-structure-controllers.html#routes">ルート</a>。デフォルト値は <code>'site/captcha'</code>。</li>
<li><code>skipOnEmpty</code>: 入力値が空のときに検証をスキップできるかどうか。デフォルト値は false で、入力が必須であることを意味します。</li>
</ul>
<h2><span class="broken-link">yii\validators\CompareValidator</span>  <span id="compare"></span><a href="#compare" class="hashlink">&para;</a></h2><pre><code class="hljs php language-php">[
    <span class="hljs-comment">// "password" 属性の値が "password_repeat" 属性の値と同じであるかどうか検証する</span>
    [<span class="hljs-string">'password'</span>, <span class="hljs-string">'compare'</span>],

    <span class="hljs-comment">// "age" が 30 以上であるかどうか検証する</span>
    [<span class="hljs-string">'age'</span>, <span class="hljs-string">'compare'</span>, <span class="hljs-string">'compareValue'</span> =&gt; <span class="hljs-number">30</span>, <span class="hljs-string">'operator'</span> =&gt; <span class="hljs-string">'&gt;='</span>],
]
</code></pre>
<p>このバリデータは指定された入力値を他の値と比較し、両者の関係が <code>operator</code> プロパティで指定されたものであることを確認します。</p>
<ul>
<li><code>compareAttribute</code>: その値が比較対象となる属性の名前。
このバリデータが属性を検証するのに使用されるとき、このプロパティのデフォルト値はその属性の名前に接尾辞 <code>_repeat</code> を付けた名前になります。
例えば、検証される属性が <code>password</code> であれば、このプロパティのデフォルト値は <code>password_repeat</code> となります。</li>
<li><code>compareValue</code>: 入力値が比較される定数値。
このプロパティと <code>compareAttribute</code> の両方が指定された場合は、このプロパティが優先されます。</li>
<li><code>operator</code>: 比較演算子。デフォルト値は <code>==</code> で、入力値が <code>compareAttribute</code> の値または <code>compareValue</code> と等しいことを検証することを意味します。
次の演算子がサポートされています。<ul>
<li><code>==</code>: 二つの値が等しいことを検証。厳密でない比較を行う。</li>
<li><code>===</code>: 二つの値が等しいことを検証。厳密な比較を行う。</li>
<li><code>!=</code>: 二つの値が等しくないことを検証。厳密でない比較を行う。</li>
<li><code>!==</code>: 二つの値が等しくないことを検証。厳密な比較を行う。</li>
<li><code>&gt;</code>: 検証される値が比較される値よりも大きいことを検証する。</li>
<li><code>&gt;=</code>: 検証される値が比較される値よりも大きいか等しいことを検証する。</li>
<li><code>&lt;</code>: 検証される値が比較される値よりも小さいことを検証する。</li>
<li><code>&lt;=</code>: 検証される値が比較される値よりも小さいか等しいことを検証する。</li>
</ul>
</li>
</ul>
<h3>日付の値を比較する <span id="ri-funo-zhiwo-bi-jiaosuru"></span><a href="#ri-funo-zhiwo-bi-jiaosuru" class="hashlink">&para;</a></h3><p>compare バリデータは、文字列や数値を比較するためにしか使えません。
日付のような値を比較する必要がある場合は、二つの選択肢があります。
日付をある固定値と比較するときは、単に <span class="broken-link">yii\validators\DateValidator</span> バリデータを使って、その <span class="broken-link">yii\validators\DateValidator::$min</span> や <span class="broken-link">yii\validators\DateValidator::$max</span> のプロパティを指定すれば良いでしょう。
フォームに入力された二つの日付、例えば、<code>fromDate</code> と <code>toDate</code> のフィールドを比較する必要がある場合は、
次のように、compare バリデータと date バリデータを組み合わせて使うことが出来ます。</p>
<pre><code class="hljs php language-php">[<span class="hljs-string">'fromDate'</span>, <span class="hljs-string">'date'</span>, <span class="hljs-string">'timestampAttribute'</span> =&gt; <span class="hljs-string">'fromDate'</span>],
[<span class="hljs-string">'toDate'</span>, <span class="hljs-string">'date'</span>, <span class="hljs-string">'timestampAttribute'</span> =&gt; <span class="hljs-string">'toDate'</span>],
[<span class="hljs-string">'fromDate'</span>, <span class="hljs-string">'compare'</span>, <span class="hljs-string">'compareAttribute'</span> =&gt; <span class="hljs-string">'toDate'</span>, <span class="hljs-string">'operator'</span> =&gt; <span class="hljs-string">'&lt;'</span>, <span class="hljs-string">'enableClientValidation'</span> =&gt; <span class="hljs-keyword">false</span>],
</code></pre>
<p>バリデータは指定された順序に従って実行されますので、まず最初に、<code>fromDate</code> と <code>toDate</code> に入力された値が有効な日付であることが確認されます。
そして、有効な日付であった場合は、機械が読める形式に変換されます。
その後に、これらの二つの値が compare バリデータによって比較されます。
現在、date バリデータはクライアント側のバリデーションを提供していませんので、これはサーバ側でのみ動作します。
そのため、compare バリデータについても、<span class="broken-link">yii\validators\CompareValidator::$enableClientValidation</span> は <code>false</code> に設定されています。</p>
<h2><span class="broken-link">yii\validators\DateValidator</span>  <span id="date"></span><a href="#date" class="hashlink">&para;</a></h2><pre><code class="hljs php language-php">[
    [[<span class="hljs-string">'from_date'</span>, <span class="hljs-string">'to_date'</span>], <span class="hljs-string">'date'</span>],
]
</code></pre>
<p>このバリデータは、入力値が正しい書式の date、time、または datetime であるかどうかをチェックします。
オプションとして、入力値を UNIX タイムスタンプ (または、その他、機械による読み取りが可能な形式) に変換して、<span class="broken-link">yii\validators\DateValidator::timestampAttribute</span> によって指定された属性に保存することも出来ます。</p>
<ul>
<li><p><code>format</code>: 検証される値が従っているべき日付/時刻の書式。
これには <a href="http://userguide.icu-project.org/formatparse/datetime#TOC-Date-Time-Format-Syntax">ICU manual</a> で記述されている日付/時刻のパターンを使うことが出来ます。
あるいは、PHP の <code>Datetime</code> クラスによって認識される書式に接頭辞 <code>php:</code> を付けた文字列でも構いません。
サポートされている書式については、<a href="http://php.net/manual/ja/datetime.createfromformat.php">http://php.net/manual/ja/datetime.createfromformat.php</a> を参照してください。
このプロパティが設定されていないときは、<code>Yii::$app-&gt;formatter-&gt;dateFormat</code> の値を取ります。</p>
</li>
<li><p><code>timestampAttribute</code>: このバリデータが、入力された日付/時刻から変換した UNIX タイムスタンプを代入することが出来る属性の名前。
これは、検証される属性と同じ属性であってもかまいません。
その場合は、元の値は検証実行後にタイムスタンプで上書きされます。
<a href="https://github.com/yiisoft/yii2-jui/blob/master/docs/guide-ja/topics-date-picker.md">DatePicker で日付の入力を扱う</a> に使用例がありますので、参照してください。</p>
<p>バージョン 2.0.4 以降では、<span class="broken-link">yii\validators\DateValidator::$timestampAttributeFormat</span> と <span class="broken-link">yii\validators\DateValidator::$timestampAttributeTimeZone</span> を使って、この属性に対するフォーマットとタイムゾーンを指定することが出来ます。</p>
</li>
<li><p>バージョン 2.0.4 以降では、タイムスタンプの <span class="broken-link">yii\validators\DateValidator::$min</span> または  <span class="broken-link">yii\validators\DateValidator::$max</span> を指定することも出来ます。</p>
</li>
</ul>
<p>入力が必須でない場合には、date バリデータに加えて、default バリデータ (デフォルト値フィルタ) を追加すれば、空の入力値が <code>null</code> として保存されることを保証することが出来ます。
そうしないと、データベースに <code>0000-00-00</code> という日付が保存されたり、デートピッカーの入力フィールドが <code>1970-01-01</code> になったりしてしまいます。</p>
<pre><code class="hljs php language-php">    [[<span class="hljs-string">'from_date'</span>, <span class="hljs-string">'to_date'</span>], <span class="hljs-string">'default'</span>, <span class="hljs-string">'value'</span> =&gt; <span class="hljs-keyword">null</span>],
    [[<span class="hljs-string">'from_date'</span>, <span class="hljs-string">'to_date'</span>], <span class="hljs-string">'date'</span>],
</code></pre>
<h2><span class="broken-link">yii\validators\DefaultValueValidator</span>  <span id="default"></span><a href="#default" class="hashlink">&para;</a></h2><pre><code class="hljs php language-php">[
    <span class="hljs-comment">// 空のときは "age" を null にする</span>
    [<span class="hljs-string">'age'</span>, <span class="hljs-string">'default'</span>, <span class="hljs-string">'value'</span> =&gt; <span class="hljs-keyword">null</span>],

    <span class="hljs-comment">// 空のときは "country" を "USA" にする</span>
    [<span class="hljs-string">'country'</span>, <span class="hljs-string">'default'</span>, <span class="hljs-string">'value'</span> =&gt; <span class="hljs-string">'USA'</span>],

    <span class="hljs-comment">// 空のときは "from" と "to" に今日から三日後・六日後の日付にする</span>
    [[<span class="hljs-string">'from'</span>, <span class="hljs-string">'to'</span>], <span class="hljs-string">'default'</span>, <span class="hljs-string">'value'</span> =&gt; <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(<span class="hljs-variable">$model</span>, <span class="hljs-variable">$attribute</span>)</span> </span>{
        <span class="hljs-keyword">return</span> date(<span class="hljs-string">'Y-m-d'</span>, strtotime(<span class="hljs-variable">$attribute</span> === <span class="hljs-string">'to'</span> ? <span class="hljs-string">'+3 days'</span> : <span class="hljs-string">'+6 days'</span>));
    }],
]
</code></pre>
<p>このバリデータはデータを検証しません。
その代りに、検証される属性が空のときに、その属性にデフォルト値を割り当てます。</p>
<ul>
<li><code>value</code>: デフォルト値、または、デフォルト値を返す PHP コーラブル。
検証される属性が空のときにこのデフォルト値が割り当てられます。
PHP コーラブルのシグニチャは、次のものでなければなりません。</li>
</ul>
<pre><code class="hljs php language-php"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span><span class="hljs-params">(<span class="hljs-variable">$model</span>, <span class="hljs-variable">$attribute</span>)</span> </span>{
    <span class="hljs-comment">// ... $value を計算 ...</span>
    <span class="hljs-keyword">return</span> <span class="hljs-variable">$value</span>;
}
</code></pre>
<blockquote class="info"><p><strong>Info: </strong>値が空であるか否かを決定する方法については、独立したトピックとして、<a href="guide-input-validation.html#handling-empty-inputs">空の入力値を扱う</a> の節でカバーされています。</p>
</blockquote>
<h2><span class="broken-link">yii\validators\NumberValidator</span>  <span id="double"></span><a href="#double" class="hashlink">&para;</a></h2><pre><code class="hljs php language-php">[
    <span class="hljs-comment">// "salary" が実数であるかどうかチェック</span>
    [<span class="hljs-string">'salary'</span>, <span class="hljs-string">'double'</span>],
]
</code></pre>
<p>このバリデータは、入力値が実数値であるかどうかをチェックします。
<a href="#number">number</a> バリデータと等価です。</p>
<ul>
<li><code>max</code>: 上限値 (その値を含む)。
設定されていない場合は、バリデータが上限値をチェックしないことを意味します。</li>
<li><code>min</code>: 下限値 (その値を含む)。
設定されていない場合は、バリデータが下限値をチェックしないことを意味します。</li>
</ul>
<h2><span class="broken-link">yii\validators\EachValidator</span>  <span id="each"></span><a href="#each" class="hashlink">&para;</a></h2><blockquote class="info"><p><strong>Info: </strong>このバリデータは、バージョン 2.0.4 以降で利用できます。</p>
</blockquote>
<pre><code class="hljs php language-php">[
    <span class="hljs-comment">// 全てのカテゴリ ID が整数であるかどうかチェックする</span>
    [<span class="hljs-string">'categoryIDs'</span>, <span class="hljs-string">'each'</span>, <span class="hljs-string">'rule'</span> =&gt; [<span class="hljs-string">'integer'</span>]],
]
</code></pre>
<p>このバリデータは配列の属性に対してのみ働きます。
これは、配列の <em>全ての</em> 要素が指定された検証規則による検証に成功するかどうかを調べるものです。
上の例では、<code>categoryIDs</code> 属性は配列を値として取らなければならず、配列の各要素は <code>integer</code> の検証規則によって検証されることになります。</p>
<ul>
<li><code>rule</code>: 検証規則を指定する配列。
配列の最初の要素がバリデータのクラス名かエイリアスを指定します。
配列の残りの「名前・値」のペアが、バリデータオブジェクトを構成するのに使われます。</li>
<li><code>allowMessageFromRule</code>: 埋め込まれた検証規則によって返されるエラーメッセージを使うかどうか。
デフォルト値は true です。これが false の場合は、<code>message</code> をエラーメッセージとして使います。</li>
</ul>
<blockquote class="note"><p><strong>Note: </strong>属性が配列でない場合は、検証が失敗したと見なされ、<code>message</code> がエラーメッセージとして返されます。</p>
</blockquote>
<h2><span class="broken-link">yii\validators\EmailValidator</span>  <span id="email"></span><a href="#email" class="hashlink">&para;</a></h2><pre><code class="hljs php language-php">[
    <span class="hljs-comment">// "email" が有効なメールアドレスであるかどうかチェック</span>
    [<span class="hljs-string">'email'</span>, <span class="hljs-string">'email'</span>],
]
</code></pre>
<p>このバリデータは、入力値が有効なメールアドレスであるかどうかをチェックします。</p>
<ul>
<li><code>allowName</code>: メールアドレスに表示名 (例えば、<code>John Smith &lt;john.smith@example.com&gt;</code>) を許容するか否か。デフォルト値は false。</li>
<li><code>checkDNS</code>: メールのドメインが存在して A または MX レコードを持っているかどうかをチェックするか否か。
このチェックは、メールアドレスが実際には有効なものでも、一時的な DNS の問題によって失敗する場合があることに注意してください。
デフォルト値は false。</li>
<li><code>enableIDN</code>: 検証のプロセスが IDN (国際化ドメイン名) を考慮に入れるか否か。
デフォルト値は false。
IDN のバリデーションを使用するためには、<code>intl</code> PHP 拡張をインストールして有効化する必要があることに注意してください。そうしないと、例外が投げられます。</li>
</ul>
<h2><span class="broken-link">yii\validators\ExistValidator</span>  <span id="exist"></span><a href="#exist" class="hashlink">&para;</a></h2><pre><code class="hljs php language-php">[
    <span class="hljs-comment">// a1 の値が属性 "a1" で表されるカラムに存在する必要がある</span>
    [<span class="hljs-string">'a1'</span>, <span class="hljs-string">'exist'</span>],

    <span class="hljs-comment">// a1 の値が属性 "a2" で表されるカラムに存在する必要がある</span>
    [<span class="hljs-string">'a1'</span>, <span class="hljs-string">'exist'</span>, <span class="hljs-string">'targetAttribute'</span> =&gt; <span class="hljs-string">'a2'</span>],

    <span class="hljs-comment">// a1 の値が "a1" のカラム、a2 の値が "a2" のカラムに存在する必要がある</span>
    <span class="hljs-comment">// 両者はともにエラーメッセージを受け取る</span>
    [[<span class="hljs-string">'a1'</span>, <span class="hljs-string">'a2'</span>], <span class="hljs-string">'exist'</span>, <span class="hljs-string">'targetAttribute'</span> =&gt; [<span class="hljs-string">'a1'</span>, <span class="hljs-string">'a2'</span>]],

    <span class="hljs-comment">// a1 の値が "a1" のカラム、a2 の値が "a2" のカラムに存在する必要がある</span>
    <span class="hljs-comment">// a1 のみがエラーメッセージを受け取る</span>
    [<span class="hljs-string">'a1'</span>, <span class="hljs-string">'exist'</span>, <span class="hljs-string">'targetAttribute'</span> =&gt; [<span class="hljs-string">'a1'</span>, <span class="hljs-string">'a2'</span>]],

    <span class="hljs-comment">// a2 の値が "a2" のカラム、a1 の値が "a3" のカラムに存在する必要がある</span>
    <span class="hljs-comment">// a1 がエラーメッセージを受け取る</span>
    [<span class="hljs-string">'a1'</span>, <span class="hljs-string">'exist'</span>, <span class="hljs-string">'targetAttribute'</span> =&gt; [<span class="hljs-string">'a2'</span>, <span class="hljs-string">'a1'</span> =&gt; <span class="hljs-string">'a3'</span>]],

    <span class="hljs-comment">// a1 の値が "a1" のカラムに存在する必要がある</span>
    <span class="hljs-comment">// a1 が配列である場合は、その全ての要素が "a1" のカラムに存在する必要がある</span>
    [<span class="hljs-string">'a1'</span>, <span class="hljs-string">'exist'</span>, <span class="hljs-string">'allowArray'</span> =&gt; <span class="hljs-keyword">true</span>],
]
</code></pre>
<p>このバリデータは、入力値が <a href="guide-db-active-record.html">アクティブレコード</a> の属性によって表されるテーブルのカラムに存在するかどうかをチェックします。
<code>targetAttribute</code> を使って <a href="guide-db-active-record.html">アクティブレコード</a> の属性を指定し、<code>targetClass</code> によって対応するクラスを指定することが出来ます。
これらを指定しない場合は、検証されるモデルの属性とクラスの値が使用されます。</p>
<p>このバリデータは、一つまたは複数のカラムに対する検証に使用することが出来ます
(複数のカラムに対する検証の場合は、それらの属性の組み合せが存在しなければならないことを意味します)。</p>
<ul>
<li><code>targetClass</code>: 検証される入力値を探すために使用される <a href="guide-db-active-record.html">アクティブレコード</a> クラスの名前。
設定されていない場合は、現在検証されているモデルのクラスが使用されます。</li>
<li><code>targetAttribute</code>: <code>targetClass</code> において、入力値の存在を検証するために使用される属性の名前。
設定されていない場合は、現在検証されている属性の名前が使用されます。
複数のカラムの存在を同時に検証するために配列を使うことが出来ます。
配列の値は存在を検証するのに使用される属性であり、配列のキーはその値が検証される属性です。
キーと値が同じ場合は、値だけを指定することが出来ます。</li>
<li><code>filter</code>: 入力値の存在をチェックするのに使用される DB クエリに適用される追加のフィルタ。
これには、文字列、または、追加のクエリ条件を表現する配列を使うことが出来ます
(クエリ条件の書式については、<span class="broken-link">yii\db\Query::where()</span> を参照してください)。
または、<code>function ($query)</code> というシグニチャを持つ無名関数でも構いません。
<code>$query</code> は関数の中で修正できる <span class="broken-link">yii\db\Query</span> オブジェクトです。</li>
<li><code>allowArray</code>: 入力値が配列であることを許容するか否か。
デフォルト値は false。
このプロパティが true で入力値が配列であった場合は、配列の全ての要素がターゲットのカラムに存在しなければなりません。
<code>targetAttribute</code> を配列で指定して複数のカラムに対して検証しようとしている場合は、このプロパティを true に設定することが出来ないことに注意してください。</li>
</ul>
<h2><span class="broken-link">yii\validators\FileValidator</span>  <span id="file"></span><a href="#file" class="hashlink">&para;</a></h2><pre><code class="hljs php language-php">[
    <span class="hljs-comment">// "primaryImage" が PNG、JPG、または GIF 形式のアップロードされた</span>
    <span class="hljs-comment">// 画像ファイルであり、ファイルサイズが 1MB 以下であるかどうかチェック</span>
    [<span class="hljs-string">'primaryImage'</span>, <span class="hljs-string">'file'</span>, <span class="hljs-string">'extensions'</span> =&gt; [<span class="hljs-string">'png'</span>, <span class="hljs-string">'jpg'</span>, <span class="hljs-string">'gif'</span>], <span class="hljs-string">'maxSize'</span> =&gt; <span class="hljs-number">1024</span>*<span class="hljs-number">1024</span>],
]
</code></pre>
<p>このバリデータは、入力値がアップロードされた有効なファイルであるかどうかをチェックします。</p>
<ul>
<li><code>extensions</code>: アップロードを許可されるファイル名拡張子のリスト。
リストは、配列、または、空白かカンマで区切られたファイル名拡張子からなる文字列 (例えば、"gif, jpg") で指定することが出来ます。
拡張子名は大文字と小文字を区別しません。
デフォルト値は null であり、すべてのファイル名拡張子が許可されることを意味します。</li>
<li><code>mimeTypes</code>: アップロードを許可されるファイルの MIME タイプのリスト。
リストは、配列、または、空白かカンマで区切られたファイルの MIME タイプからなる文字列 (例えば、"image/jpeg, image/png") で指定することが出来ます。
特殊文字 <code>*</code> によるワイルドカードのマスクを使って、一群の MIME タイプに一致させることも出来ます。
例えば <code>image/*</code> は、<code>image/</code> で始まる全ての MIME タイプ (<code>image/jpeg</code>, <code>image/png</code> など) を通します。
MIME タイプ名は大文字と小文字を区別しません。
デフォルト値は null であり、すべての MIME タイプが許可されることを意味します。
MIME タイプの詳細については、<a href="http://en.wikipedia.org/wiki/Internet_media_type#List_of_common_media_types">一般的なメディアタイプ</a> を参照してください。</li>
<li><code>minSize</code>: アップロードされるファイルに要求される最小限のバイト数。
デフォルト値は null であり、下限値が無いことを意味します。</li>
<li><code>maxSize</code>: アップロードされるファイルに許可される最大限のバイト数。
デフォルト値は null であり、上限値が無いことを意味します。</li>
<li><code>maxFiles</code>: 指定された属性が保持しうる最大限のファイル数。
デフォルト値は 1 であり、入力値がアップロードされた一つだけのファイルでなければならないことを意味します。
この値が 2 以上である場合は、入力値は最大で <code>maxFiles</code> 数のアップロードされたファイルからなる配列でなければなりません。</li>
<li><code>checkExtensionByMimeType</code>: ファイルの MIME タイプでファイル拡張子をチェックするか否か。
MIME タイプのチェックから導かれる拡張子がアップロードされたファイルの拡張子と違う場合に、そのファイルは無効であると見なされます。
デフォルト値は true であり、そのようなチェックが行われることを意味します。</li>
</ul>
<p><code>FileValidator</code> は <span class="broken-link">yii\web\UploadedFile</span> と一緒に使用されます。
ファイルのアップロードおよびアップロードされたファイルの検証の実行に関する完全な説明は、<a href="guide-input-file-upload.html">ファイルをアップロードする</a> の節を参照してください。</p>
<h2><span class="broken-link">yii\validators\FilterValidator</span>  <span id="filter"></span><a href="#filter" class="hashlink">&para;</a></h2><pre><code class="hljs php language-php">[
    <span class="hljs-comment">// "username" と "email" の入力値をトリムする</span>
    [[<span class="hljs-string">'username'</span>, <span class="hljs-string">'email'</span>], <span class="hljs-string">'filter'</span>, <span class="hljs-string">'filter'</span> =&gt; <span class="hljs-string">'trim'</span>, <span class="hljs-string">'skipOnArray'</span> =&gt; <span class="hljs-keyword">true</span>],

    <span class="hljs-comment">// "phone" の入力値を正規化する</span>
    [<span class="hljs-string">'phone'</span>, <span class="hljs-string">'filter'</span>, <span class="hljs-string">'filter'</span> =&gt; <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(<span class="hljs-variable">$value</span>)</span> </span>{
        <span class="hljs-comment">// 電話番号の入力値をここで正規化する</span>
        <span class="hljs-keyword">return</span> <span class="hljs-variable">$value</span>;
    }],
]
</code></pre>
<p>このバリデータはデータを検証しません。
代りに、入力値にフィルタを適用して、それを検証される属性に書き戻します。</p>
<ul>
<li><code>filter</code>: フィルタを定義する PHP コールバック。
これには、グローバル関数の名前、無名関数などを指定することが出来ます。
関数のシグニチャは <code>`function ($value) { return $newValue; }</code> でなければなりません。
このプロパティは必須項目です。</li>
<li><code>skipOnArray</code>: 入力値が配列である場合にフィルタをスキップするか否か。
デフォルト値は false。
フィルタが配列の入力を処理できない場合は、このプロパティを true に設定しなければなりません。
そうしないと、何らかの PHP エラーが生じ得ます。</li>
</ul>
<blockquote class="tip"><p><strong>Tip: </strong>入力値をトリムしたい場合は、<a href="#trim">trim</a> バリデータを直接使うことが出来ます。</p>
</blockquote>
<blockquote class="tip"><p><strong>Tip: </strong><code>filter</code> のコールバックに期待されるシグニチャを持つ PHP 関数が多数存在します。
例えば、(<a href="http://php.net/manual/ja/function.intval.php">intval</a> や <a href="http://php.net/manual/ja/function.boolval.php">boolval</a> などを使って) 型キャストを適用し、属性が特定の型になるように保証したい場合は、それらの関数をクロージャで包む必要はなく、単にフィルタの関数名を指定するだけで十分です。</p>
<pre><code class="hljs php language-php">[<span class="hljs-string">'property'</span>, <span class="hljs-string">'filter'</span>, <span class="hljs-string">'filter'</span> =&gt; <span class="hljs-string">'boolval'</span>],
[<span class="hljs-string">'property'</span>, <span class="hljs-string">'filter'</span>, <span class="hljs-string">'filter'</span> =&gt; <span class="hljs-string">'intval'</span>],
</code></pre>
</blockquote>
<h2><span class="broken-link">yii\validators\ImageValidator</span>  <span id="image"></span><a href="#image" class="hashlink">&para;</a></h2><pre><code class="hljs php language-php">[
    <span class="hljs-comment">// "primaryImage" が適切なサイズの有効な画像であることを検証</span>
    [<span class="hljs-string">'primaryImage'</span>, <span class="hljs-string">'image'</span>, <span class="hljs-string">'extensions'</span> =&gt; <span class="hljs-string">'png, jpg'</span>,
        <span class="hljs-string">'minWidth'</span> =&gt; <span class="hljs-number">100</span>, <span class="hljs-string">'maxWidth'</span> =&gt; <span class="hljs-number">1000</span>,
        <span class="hljs-string">'minHeight'</span> =&gt; <span class="hljs-number">100</span>, <span class="hljs-string">'maxHeight'</span> =&gt; <span class="hljs-number">1000</span>,
    ],
]
</code></pre>
<p>このバリデータは、入力値が有効な画像ファイルであるかどうかをチェックします。
これは <a href="#file">file</a> バリデータを拡張するものであり、従って、そのプロパティの全てを継承しています。
それに加えて、画像の検証の目的に特化した次のプロパティをサポートしています。</p>
<ul>
<li><code>minWidth</code>: 画像の幅の最小値。デフォルト値は null であり、下限値がないことを意味します。</li>
<li><code>maxWidth</code>: 画像の幅の最大値。デフォルト値は null であり、上限値がないことを意味します。</li>
<li><code>minHeight</code>: 画像の高さの最小値。デフォルト値は null であり、下限値がないことを意味します。</li>
<li><code>maxHeight</code>: 画像の高さの最大値。デフォルト値は null であり、上限値がないことを意味します。</li>
</ul>
<h2><span class="broken-link">yii\validators\IpValidator</span>  <span id="ip"></span><a href="#ip" class="hashlink">&para;</a></h2><pre><code class="hljs php language-php">[
    <span class="hljs-comment">// "ip_address" が有効な IPv4 または IPv6 アドレスであることを検証</span>
    [<span class="hljs-string">'ip_address'</span>, <span class="hljs-string">'ip'</span>],

    <span class="hljs-comment">// "ip_address" が有効な IPv6 アドレスまたはサブネットであることを検証</span>
    <span class="hljs-comment">// 値は完全な IPv6 記法に展開される</span>
    [<span class="hljs-string">'ip_address'</span>, <span class="hljs-string">'ip'</span>, <span class="hljs-string">'ipv4'</span> =&gt; <span class="hljs-keyword">false</span>, <span class="hljs-string">'subnet'</span> =&gt; <span class="hljs-keyword">null</span>, <span class="hljs-string">'expandIPv6'</span> =&gt; <span class="hljs-keyword">true</span>],

    <span class="hljs-comment">// "ip_address" が有効な IPv4 または IPv6 アドレスであることを検証</span>
    <span class="hljs-comment">// 先頭に否定文字 `!` を置くことを許可</span>
    [<span class="hljs-string">'ip_address'</span>, <span class="hljs-string">'ip'</span>, <span class="hljs-string">'negation'</span> =&gt; <span class="hljs-keyword">true</span>],
]
</code></pre>
<p>このバリデータは属性の値が有効な IPv4/IPv6 アドレスまたはサブネットであることを検証します。
正規化または IPv6 展開が有効にされた場合は、属性の値を変更することも出来ます。</p>
<p>バリデータは以下の構成オプションを持っています。</p>
<ul>
<li><code>ipv4</code>: 検証の対象となる値が IPv4 アドレスであってよいか否か。デフォルト値は true。</li>
<li><code>ipv6</code>: 検証の対象となる値が IPv6 アドレスであってよいか否か。デフォルト値は true。</li>
<li><p><code>subnet</code>: アドレスが <code>192.168.10.0/24</code> のような CIDR サブネットを持つ IP であってよいか否か。whether the address can be an IP with CIDR subnet, like <code>192.168.10.0/24</code></p>
<ul>
<li><code>true</code> - サブネットが必要。CIDR の無いアドレスは却下されます</li>
<li><code>false</code> - アドレスは CIDR を伴ってはいけません</li>
<li><code>null</code> - CIDR は有っても無くても構いません</li>
</ul>
<p>  デフォルト値は false。</p>
</li>
<li><p><code>normalize</code>: CIDR を持たないアドレスに、最も短い (IPv4 では 32、IPv6 では 128) CIDR プレフィクスを追加するか否か。
<code>subnet</code> が <code>false</code> 以外の場合にのみ動作します。
例えば、</p>
<ul>
<li><code>10.0.1.5</code> は <code>10.0.1.5/32</code> に正規化され、</li>
<li><code>2008:db0::1</code> は <code>2008:db0::1/128</code> に正規化されます</li>
</ul>
<p>  デフォルト値は false。</p>
</li>
<li><code>negation</code>: 検証の対象となるアドレスが先頭に否定文字 <code>!</code> を持つことが出来るか否か。
デフォルト値は false。</li>
<li><code>expandIPv6</code>: IPv6 アドレスを完全な記法に展開するか否か。
例えば、<code>2008:db0::1</code> は <code>2008:0db0:0000:0000:0000:0000:0000:0001</code> に展開されます。
デフォルト値は false。</li>
<li><p><code>ranges</code>: 許容または禁止される IPv4 または IPv6 の範囲の配列。</p>
<p>  配列が空の場合、またはこのオプションが設定されていない場合は、全ての IP アドレスが許容されます。
  そうでない場合は、最初に合致するものが見つかるまで、規則が順番にチェックされます。
  どの規則にも合致しなかった場合、その IP アドレスは禁止されます。</p>
<p>  例えば、
  <code>`</code>php
  [</p>
<pre><code class="hljs php">   <span class="hljs-string">'client_ip'</span>, <span class="hljs-string">'ip'</span>, <span class="hljs-string">'ranges'</span> =&gt; [
       <span class="hljs-string">'192.168.10.128'</span>
       <span class="hljs-string">'!192.168.10.0/24'</span>,
       <span class="hljs-string">'any'</span> <span class="hljs-comment">// 他の IP アドレスは全て許容</span>
   ]
</code></pre>
<p>  ]
  <code>`</code>
この例では、<code>192.168.10.0/24</code> のサブネットを除いて、全ての IPv4 および IPv6 アドレスが許容されます。
IPv4 アドレス <code>192.168.10.128</code> も、制約の前にリストされているため、同様に許容されます。</p>
</li>
<li><p><code>networks</code>: <code>ranges</code> で使用する事が出来るネットワークのエイリアスの配列。
配列の形式は、</p>
<ul>
<li>キー - エイリアス名</li>
<li>値 - 文字列の配列。文字列は、範囲、IP アドレス、または、他のエイリアスとすることが出来ます。
また、文字列は (<code>negation</code> オプションとは独立に) <code>!</code> によって否定することが出来ます。</li>
</ul>
<p>  デフォルトで、次のエイリアスが定義されています。</p>
<ul>
<li><code>*</code>: <code>any</code></li>
<li><code>any</code>: <code>0.0.0.0/0, ::/0</code></li>
<li><code>private</code>: <code>10.0.0.0/8, 172.16.0.0/12, 192.168.0.0/16, fd00::/8</code></li>
<li><code>multicast</code>: <code>224.0.0.0/4, ff00::/8</code></li>
<li><code>linklocal</code>: <code>169.254.0.0/16, fe80::/10</code></li>
<li><code>localhost</code>: <code>127.0.0.0/8', ::1</code></li>
<li><code>documentation</code>: <code>192.0.2.0/24, 198.51.100.0/24, 203.0.113.0/24, 2001:db8::/32</code></li>
<li><code>system</code>: <code>multicast, linklocal, localhost, documentation</code></li>
</ul>
</li>
</ul>
<blockquote class="info"><p><strong>Info: </strong>このバリデータは、バージョン 2.0.7 以降で利用することが出来ます。</p>
</blockquote>
<h2><span class="broken-link">yii\validators\RangeValidator</span>  <span id="in"></span><a href="#in" class="hashlink">&para;</a></h2><pre><code class="hljs php language-php">[
    <span class="hljs-comment">// "level" が 1, 2 または 3 であるかどうかチェック</span>
    [<span class="hljs-string">'level'</span>, <span class="hljs-string">'in'</span>, <span class="hljs-string">'range'</span> =&gt; [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]],
]
</code></pre>
<p>このバリデータは、入力値が所与の値のリストにあるかどうかをチェックします。</p>
<ul>
<li><code>range</code>: 与えられた値のリスト。この中に、入力値がなければならない。</li>
<li><code>strict</code>: 入力値と所与の値の比較が厳密でなければならない (型と値の両方が同じでなければならない) かどうか。
デフォルト値は false。</li>
<li><code>not</code>: 検証結果を反転すべきか否か。デフォルト値は false。
このプロパティが true に設定されているときは、入力値が所与の値のリストにない場合に検証が成功したとされます。</li>
<li><code>allowArray</code>: 入力値が配列であることを許可するかどうか。
このプロパティが true であるときに、入力値が配列である場合は、配列の全ての要素が所与の値のリストにある必要があり、そうでなければ検証は失敗します。</li>
</ul>
<h2><span class="broken-link">yii\validators\NumberValidator</span>  <span id="integer"></span><a href="#integer" class="hashlink">&para;</a></h2><pre><code class="hljs php language-php">[
    <span class="hljs-comment">// "age" が整数であるかどうかチェック</span>
    [<span class="hljs-string">'age'</span>, <span class="hljs-string">'integer'</span>],
]
</code></pre>
<p>このバリデータは入力値が整数であるかどうかをチェックします。</p>
<ul>
<li><code>max</code>: 上限値 (その値を含む)。設定されていないときは、バリデータは上限をチェックしません。</li>
<li><code>min</code>: 下限値 (その値を含む)。設定されていないときは、バリデータは下限をチェックしません。</li>
</ul>
<h2><span class="broken-link">yii\validators\RegularExpressionValidator</span>  <span id="match"></span><a href="#match" class="hashlink">&para;</a></h2><pre><code class="hljs php language-php">[
    <span class="hljs-comment">// "username" が英字から始まり、英字、数字、アンダーバーだけで構成されているかどうかチェック</span>
    [<span class="hljs-string">'username'</span>, <span class="hljs-string">'match'</span>, <span class="hljs-string">'pattern'</span> =&gt; <span class="hljs-string">'/^[a-z]\w*$/i'</span>]
]
</code></pre>
<p>このバリデータは、入力値が指定された正規表現に一致するかどうかをチェックします。</p>
<ul>
<li><code>pattern</code>: 入力値が一致すべき正規表現。このプロパティを設定することは必須です。そうしないと、例外が投げられます。</li>
<li><code>not</code>: 検証結果を反転すべきかどうか。
デフォルト値は false で、入力値がパターンに一致したときにだけ検証が成功することを意味します。
このプロパティが true に設定されているときは、入力値がパターンに一致しない場合にだけ検証が成功したと見なされます。</li>
</ul>
<h2><span class="broken-link">yii\validators\NumberValidator</span>  <span id="number"></span><a href="#number" class="hashlink">&para;</a></h2><pre><code class="hljs php language-php">[
    <span class="hljs-comment">// "salary" が数値であるかどうかチェック</span>
    [<span class="hljs-string">'salary'</span>, <span class="hljs-string">'number'</span>],
]
</code></pre>
<p>このバリデータは、入力値が数値であるかどうかをチェックします。<a href="#double">double</a> バリデータと等価です。</p>
<ul>
<li><code>max</code>: 上限値 (その値を含む)。設定されていないときは、バリデータは上限をチェックしません。</li>
<li><code>min</code>: 下限値 (その値を含む)。設定されていないときは、バリデータは下限をチェックしません。</li>
</ul>
<h2><span class="broken-link">yii\validators\RequiredValidator</span>  <span id="required"></span><a href="#required" class="hashlink">&para;</a></h2><pre><code class="hljs php language-php">[
    <span class="hljs-comment">// "username" と "password" がともに空ではないことをチェックする</span>
    [[<span class="hljs-string">'username'</span>, <span class="hljs-string">'password'</span>], <span class="hljs-string">'required'</span>],
]
</code></pre>
<p>このバリデータは、入力値が提供されており、空ではないことをチェックします。</p>
<ul>
<li><code>requiredValue</code>: 入力値として要求される値。
このプロパティが設定されていない場合は、入力値が空ではいけないことを意味します。</li>
<li><code>strict</code>: 値を検証するときに、データ型をチェックするかどうか。デフォルト値は false。
<code>requiredValue</code> が設定されていない場合、このプロパティが true であるときは、バリデータは入力値が厳密な意味で null であるかどうかをチェックします。
一方、このプロパティが false であるときは、値が空か否かの判断に緩い規則を使います。
<code>requiredValue</code> が設定されている場合、このプロパティが true であるときは、入力値と <code>requiredValue</code> を比較するときに型のチェックを行います。</li>
</ul>
<blockquote class="info"><p><strong>Info: </strong>値が空であるか否かを決定する方法については、独立したトピックとして、<a href="guide-input-validation.html#handling-empty-inputs">空の入力値を扱う</a> の節でカバーされています。</p>
</blockquote>
<h2><span class="broken-link">yii\validators\SafeValidator</span>  <span id="safe"></span><a href="#safe" class="hashlink">&para;</a></h2><pre><code class="hljs php language-php">[
    <span class="hljs-comment">// "description" を安全な属性としてマーク</span>
    [<span class="hljs-string">'description'</span>, <span class="hljs-string">'safe'</span>],
]
</code></pre>
<p>このバリデータは検証を実行しません。
その代りに、このバリデータは、属性を <a href="guide-structure-models.html#safe-attributes">安全な属性</a> としてマークするために使われます。</p>
<h2><span class="broken-link">yii\validators\StringValidator</span>  <span id="string"></span><a href="#string" class="hashlink">&para;</a></h2><pre><code class="hljs php language-php">[
    <span class="hljs-comment">// "username" が、長さが 4 以上 24 以下の文字列であるかどうかチェック</span>
    [<span class="hljs-string">'username'</span>, <span class="hljs-string">'string'</span>, <span class="hljs-string">'length'</span> =&gt; [<span class="hljs-number">4</span>, <span class="hljs-number">24</span>]],
]
</code></pre>
<p>このバリデータは、入力値が一定の長さを持つ有効な文字列であるかどうかをチェックします。</p>
<ul>
<li><code>length</code>: 検証される入力文字列の長さの制限を指定します。
これは、次のいずれかの形式で指定することが出来ます。<ul>
<li>一つの整数: 文字列がちょうどその長さでなければならない、その長さ。</li>
<li>一つの要素を持つ配列: 入力文字列の長さの最小値 (例えば、<code>[8]</code>)。これは <code>min</code> を上書きします。</li>
<li>二つの要素を持つ配列: 入力文字列の長さの最小値と最大値 (例えば、<code>[8, 128]</code>)。これは <code>min</code> と <code>max</code> の両方を上書きします。</li>
</ul>
</li>
<li><code>min</code>: 入力文字列の長さの最小値。設定されていない時は、長さの下限値がないことを意味します。</li>
<li><code>max</code>: 入力文字列の長さの最大値。設定されていない時は、長さの上限値がないことを意味します。</li>
<li><code>encoding</code>: 検証される入力文字列の文字エンコーディング。設定されていない時は、アプリケーションの <span class="broken-link">yii\base\Application::charset</span> の値が使われ、デフォルトでは <code>UTF-8</code> となります。</li>
</ul>
<h2><span class="broken-link">yii\validators\FilterValidator</span>  <span id="trim"></span><a href="#trim" class="hashlink">&para;</a></h2><pre><code class="hljs php language-php">[
    <span class="hljs-comment">// "username" と "email" の前後にあるホワイトスペースをトリムする</span>
    [[<span class="hljs-string">'username'</span>, <span class="hljs-string">'email'</span>], <span class="hljs-string">'trim'</span>],
]
</code></pre>
<p>このバリデータはデータの検証を実行しません。
その代りに、入力値の前後にあるホワイトスペースをトリムします。
入力値が配列であるときは、このバリデータによって無視されることに注意してください。</p>
<h2><span class="broken-link">yii\validators\UniqueValidator</span>  <span id="unique"></span><a href="#unique" class="hashlink">&para;</a></h2><pre><code class="hljs php language-php">[
    <span class="hljs-comment">// a1 の値が属性 "a1" で表されるカラムにおいてユニークである必要がある</span>
    [<span class="hljs-string">'a1'</span>, <span class="hljs-string">'unique'</span>],

    <span class="hljs-comment">// a1 の値が属性 "a2" で表されるカラムにおいてユニークである必要がある</span>
    [<span class="hljs-string">'a1'</span>, <span class="hljs-string">'unique'</span>, <span class="hljs-string">'targetAttribute'</span> =&gt; <span class="hljs-string">'a2'</span>],

    <span class="hljs-comment">// a1 の値が "a1" のカラム、a2 の値が "a2" のカラムにおいてユニークである必要がある</span>
    <span class="hljs-comment">// 両者はともにエラーメッセージを受け取る</span>
    [[<span class="hljs-string">'a1'</span>, <span class="hljs-string">'a2'</span>], <span class="hljs-string">'unique'</span>, <span class="hljs-string">'targetAttribute'</span> =&gt; [<span class="hljs-string">'a1'</span>, <span class="hljs-string">'a2'</span>]],

    <span class="hljs-comment">// a1 の値が "a1" のカラム、a2 の値が "a2" のカラムにおいてユニークである必要がある</span>
    <span class="hljs-comment">// a1 のみがエラーメッセージを受け取る</span>
    [<span class="hljs-string">'a1'</span>, <span class="hljs-string">'unique'</span>, <span class="hljs-string">'targetAttribute'</span> =&gt; [<span class="hljs-string">'a1'</span>, <span class="hljs-string">'a2'</span>]],

    <span class="hljs-comment">// a2 の値が "a2" のカラム、a1 の値が "a3" のカラムにおいてユニークである必要がある</span>
    <span class="hljs-comment">// a1 がエラーメッセージを受け取る</span>
    [<span class="hljs-string">'a1'</span>, <span class="hljs-string">'unique'</span>, <span class="hljs-string">'targetAttribute'</span> =&gt; [<span class="hljs-string">'a2'</span>, <span class="hljs-string">'a1'</span> =&gt; <span class="hljs-string">'a3'</span>]],
]
</code></pre>
<p>このバリデータは、入力値がテーブルのカラムにおいてユニークであるかどうかをチェックします。
<a href="guide-db-active-record.html">アクティブレコード</a> モデルの属性に対してのみ働きます。
一つのカラムに対するバリデーションか、複数のカラムに対するバリデーションか、どちらかをサポートします。</p>
<ul>
<li><code>targetClass</code>: 検証される入力値を探すために使用される <a href="guide-db-active-record.html">アクティブレコード</a> クラスの名前。
設定されていない場合は、現在検証されているモデルのクラスが使用されます。</li>
<li><code>targetAttribute</code>: <code>targetClass</code> において、入力値がユニークであることを検証するために使用される属性の名前。
設定されていない場合は、現在検証されている属性の名前が使用されます。
複数のカラムのユニーク性を同時に検証するために配列を使うことが出来ます。
配列の値はユニーク性を検証するのに使用される属性であり、配列のキーはその値が検証される属性です。
キーと値が同じ場合は、値だけを指定することが出来ます。</li>
<li><code>filter</code>: 入力値のユニーク性をチェックするのに使用される DB クエリに適用される追加のフィルタ。
これには、文字列、または、追加のクエリ条件を表現する配列を使うことが出来ます
(クエリ条件の書式については、<span class="broken-link">yii\db\Query::where()</span> を参照してください)。
または、<code>function ($query)</code> というシグニチャを持つ無名関数でも構いません。
<code>$query</code> は関数の中で修正できる <span class="broken-link">yii\db\Query</span> オブジェクトです。</li>
</ul>
<h2><span class="broken-link">yii\validators\UrlValidator</span>  <span id="url"></span><a href="#url" class="hashlink">&para;</a></h2><pre><code class="hljs php language-php">[
    <span class="hljs-comment">// "website" が有効な URL であるかどうかをチェック。</span>
    <span class="hljs-comment">// URI スキームを持たない場合は、"website" 属性に "http://" を前置する</span>
    [<span class="hljs-string">'website'</span>, <span class="hljs-string">'url'</span>, <span class="hljs-string">'defaultScheme'</span> =&gt; <span class="hljs-string">'http'</span>],
]
</code></pre>
<p>このバリデータは、入力値が有効な URL であるかどうかをチェックします。</p>
<ul>
<li><code>validSchemes</code>: 有効と見なされるべき URI スキームを指定する配列。
デフォルト値は  <code>['http', 'https']</code> であり、<code>http</code> と <code>https</code> の URL がともに有効と見なされることを意味します。</li>
<li><code>defaultScheme</code>: 入力値がスキームの部分を持たないときに前置されるデフォルトの URI スキーム。
デフォルト値は null であり、入力値を修正しないことを意味します。</li>
<li><code>enableIDN</code>: バリデータが IDN (国際化ドメイン名) を考慮すべきか否か。
デフォルト値は false。
IDN のバリデーションを使用するためには、<code>intl</code> PHP 拡張をインストールして有効化する必要があることに注意してください。
そうしないと、例外が投げられます。</li>
</ul>
        <div class="toplink"><a href="#" class="h1" title="go to top"><span class="glyphicon glyphicon-arrow-up"></a></div>
    </div>
</div>


</div>

<footer class="footer">
        <p class="pull-right"><small>Page generated on Tue, 27 Dec 2016 22:28:43 +0000</small></p>
    Powered by <a href="http://www.yiiframework.com/" rel="external">Yii Framework</a></footer>

<script type="text/javascript">jQuery(document).ready(function () {
    var shiftWindow = function () { scrollBy(0, -50) };
    if (location.hash) setTimeout(shiftWindow, 1);
    window.addEventListener("hashchange", shiftWindow);
var element = document.createElement("script");
element.src = "./jssearch.index.js";
document.body.appendChild(element);

var searchBox = $('#searchbox');

// search when typing in search field
searchBox.on("keyup", function(event) {
    var query = $(this).val();

    if (query == '' || event.which == 27) {
        $('#search-resultbox').hide();
        return;
    } else if (event.which == 13) {
        var selectedLink = $('#search-resultbox a.selected');
        if (selectedLink.length != 0) {
            document.location = selectedLink.attr('href');
            return;
        }
    } else if (event.which == 38 || event.which == 40) {
        $('#search-resultbox').show();

        var selected = $('#search-resultbox a.selected');
        if (selected.length == 0) {
            $('#search-results').find('a').first().addClass('selected');
        } else {
            var next;
            if (event.which == 40) {
                next = selected.parent().next().find('a').first();
            } else {
                next = selected.parent().prev().find('a').first();
            }
            if (next.length != 0) {
                var resultbox = $('#search-results');
                var position = next.position();

//              TODO scrolling is buggy and jumps around
//                resultbox.scrollTop(Math.floor(position.top));
//                console.log(position.top);

                selected.removeClass('selected');
                next.addClass('selected');
            }
        }

        return;
    }
    $('#search-resultbox').show();
    $('#search-results').html('<li><span class="no-results">No results</span></li>');

    var result = jssearch.search(query);

    if (result.length > 0) {
        var i = 0;
        var resHtml = '';

        for (var key in result) {
            if (i++ > 20) {
                break;
            }
            resHtml = resHtml +
            '<li><a href="' + result[key].file.u.substr(3) +'"><span class="title">' + result[key].file.t + '</span>' +
            '<span class="description">' + result[key].file.d + '</span></a></li>';
        }
        $('#search-results').html(resHtml);
    }
});

// hide the search results on ESC
$(document).on("keyup", function(event) { if (event.which == 27) { $('#search-resultbox').hide(); } });
// hide search results on click to document
$(document).bind('click', function (e) { $('#search-resultbox').hide(); });
// except the following:
searchBox.bind('click', function(e) { e.stopPropagation(); });
$('#search-resultbox').bind('click', function(e) { e.stopPropagation(); });

});</script></body>
</html>
